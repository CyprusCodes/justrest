"use strict";(()=>{var ou=Object.create;var Pn=Object.defineProperty,iu=Object.defineProperties,su=Object.getOwnPropertyDescriptor,au=Object.getOwnPropertyDescriptors,cu=Object.getOwnPropertyNames,jn=Object.getOwnPropertySymbols,lu=Object.getPrototypeOf,ci=Object.prototype.hasOwnProperty,ea=Object.prototype.propertyIsEnumerable;var Qs=(t,e,r)=>e in t?Pn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,re=(t,e)=>{for(var r in e||={})ci.call(e,r)&&Qs(t,r,e[r]);if(jn)for(var r of jn(e))ea.call(e,r)&&Qs(t,r,e[r]);return t},ae=(t,e)=>iu(t,au(e));var nt=(t,e)=>{var r={};for(var n in t)ci.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&jn)for(var n of jn(t))e.indexOf(n)<0&&ea.call(t,n)&&(r[n]=t[n]);return r};var ce=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ta=(t,e)=>{for(var r in e)Pn(t,r,{get:e[r],enumerable:!0})},uu=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of cu(e))!ci.call(t,o)&&o!==r&&Pn(t,o,{get:()=>e[o],enumerable:!(n=su(e,o))||n.enumerable});return t};var du=(t,e,r)=>(r=t!=null?ou(lu(t)):{},uu(e||!t||!t.__esModule?Pn(r,"default",{value:t,enumerable:!0}):r,t));var Jt=(t,e,r)=>new Promise((n,o)=>{var i=l=>{try{a(r.next(l))}catch(u){o(u)}},s=l=>{try{a(r.throw(l))}catch(u){o(u)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(i,s);a((r=r.apply(t,e)).next())});var La=ce(Gr=>{Gr.compare=Vp;Gr.reduce=Zp;var qp,no,Wp,oo,Mr;Gr.REMOVE=qp=no=-1;Gr.ADD=Wp=oo=1;Gr.EQUAL=Mr=0;function Vp(t,e){var r=t.length,n=e.length,o=Kp(t,e),i=o<r&&o<n?Xp(t,e,o):0,s=i+o-1;r-=s,n-=s;for(var a=ef(r,n),l=r-1;l>=0;--l)for(var u=n-1;u>=0;--u)a[u][l]=Qp(a,t,e,o,l,u);return{prefix:o,matrix:a,suffix:i}}function Zp(t,e,r){var n,o,i,s,a=r.matrix,l=r.prefix;for(n=0;n<l;++n)e=t(e,Mr,n,n);for(i=n,l=a.length,n=0,o=0;n<l;)switch(s=a[n][o].type,e=t(e,s,n+i,o+i),s){case Mr:++n,++o;break;case no:++o;break;case oo:++n;break}for(n+=i,o+=i,l=r.suffix,i=0;i<l;++i)e=t(e,Mr,n+i,o+i);return e}function Kp(t,e){for(var r=0,n=Math.min(t.length,e.length);r<n&&t[r]===e[r];)++r;return r}function Xp(t,e){for(var r=t.length-1,n=e.length-1,o=Math.min(r,n),i=0;i<o&&t[r-i]===e[n-i];)++i;return i}function Qp(t,e,r,n,o,i){return e[o+n]===r[i+n]?{value:t[i+1][o+1].value,type:Mr}:t[i][o+1].value<t[i+1][o].value?{value:t[i][o+1].value+1,type:no}:{value:t[i+1][o].value+1,type:oo}}function ef(t,e){var r=[],n,o,i;for(i=r[e]=[],o=0;o<t;++o)i[o]={value:t-o,type:no};for(n=0;n<e;++n)r[n]=[],r[n][t]={value:e-n,type:oo};return r[e][t]={value:0,type:Mr},r}});var Ni=ce(io=>{io.cons=tf;io.tail=rf;io.map=nf;function tf(t,e){var r=e.length,n=new Array(r+1);n[0]=t;for(var o=0;o<r;++o)n[o+1]=e[o];return n}function rf(t){for(var e=t.length-1,r=new Array(e),n=0;n<e;++n)r[n]=t[n+1];return r}function nf(t,e){for(var r=new Array(e.length),n=0;n<e.length;++n)r[n]=t(e[n]);return r}});var Ba=ce((Ry,Ua)=>{Ua.exports=af;var so=/\/|~1|~0/g,Ci="/",of="~",sf="~1";function af(t,e){var r,n,o,i;for(r=t.charAt(0)===Ci?1:0,n="",so.lastIndex=r;o=so.exec(t);)if(i=o[0],n+=t.slice(r,so.lastIndex-i.length),r=so.lastIndex,i===Ci){if(e(n)===!1)return t;n=""}else n+=i===sf?Ci:of;return n+=t.slice(r),e(n),t}});var ao=ce(We=>{var $a=Ba();We.find=hf;We.join=_f;We.absolute=gf;We.parse=yf;We.contains=bf;We.encodeSegment=Ef;We.decodeSegment=vf;We.parseArrayIndex=Oi;We.isValidArrayIndex=Fa;var Lr="/",cf=/\//g,lf="~1",uf=/~1/g,df="~",pf=/~/g,ff="~0",mf=/~0/g;function hf(t,e,r,n){if(typeof e=="string"){if(e==="")return{target:t,key:void 0};if(e===Lr)return{target:t,key:""};var o=t,i,s=n!==void 0;return $a(e,function(a){if(t==null)return o=null,!1;Array.isArray(t)?i=s?Sf(r,Oi(a),t,n):a==="-"?a:Oi(a):i=a,o=t,t=t[i]}),o===null?void 0:{target:o,key:i}}}function gf(t){return t[0]===Lr?t:Lr+t}function _f(t){return t.join(Lr)}function yf(t){var e=[];return $a(t,e.push.bind(e)),e}function bf(t,e){return e.indexOf(t)===0&&e[t.length]===Lr}function vf(t){return t.replace(uf,Lr).replace(mf,df)}function Ef(t){return t.replace(pf,ff).replace(cf,lf)}var Tf=/^(0|[1-9]\d*)$/;function Fa(t){return Tf.test(t)}function Oi(t){if(Fa(t))return+t;throw new SyntaxError("invalid array index "+t)}function Sf(t,e,r,n){var o=e;if(o<0)throw new Error("array index out of bounds "+o);if(n!==void 0&&typeof t=="function"&&(o=t(e,r,n),o<0))throw new Error("could not find patch context "+n);return o}});var Ai=ce((Cy,za)=>{za.exports=Di;function Di(t){return t==null||typeof t!="object"?t:Array.isArray(t)?xf(t):kf(t)}function xf(t){for(var e=t.length,r=new Array(e),n=0;n<e;++n)r[n]=Di(t[n]);return r}function kf(t){for(var e=Object.keys(t),r={},n,o=0,i=e.length;o<i;++o)n=e[o],r[n]=Di(t[n]);return r}});var Ya=ce((Oy,Ha)=>{Ha.exports=Mi;function Mi(t,e){return t===e?!0:Array.isArray(t)&&Array.isArray(e)?jf(t,e):typeof t=="object"&&typeof e=="object"?Pf(t,e):!1}function jf(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(!Mi(t[r],e[r]))return!1;return!0}function Pf(t,e){if(t===null&&e!==null||t!==null&&e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(var o=0,i;o<r.length;++o)if(i=r[o],!(i in e&&Mi(t[i],e[i])))return!1;return!0}});var Va=ce((Dy,Wa)=>{var ne=ao();Wa.exports=function(e,r){var n=ne.parse(e.path),o=ne.parse(r.path),i=Cf(n,o),s=Rf(n,o,i.length),a=qa(e),l=qa(r);return i.length===0&&!s?[l,a]:s?If(a,n,l,o):wf(a,n,l,o)};function wf(t,e,r,n){if(t.path===r.path)throw new TypeError("cannot commute "+t.op+","+r.op+" with identical object paths");return[r,t]}function If(t,e,r,n){return e.length===n.length?Nf(t,e,r,n):(e.length>n.length?(e=Ja(r,n,t,e,-1),t.path=ne.absolute(ne.join(e))):(n=Ja(t,e,r,n,1),r.path=ne.absolute(ne.join(n))),[r,t])}function Rf(t,e,r){return ne.isValidArrayIndex(t[r])&&ne.isValidArrayIndex(e[r])}function Nf(t,e,r,n){var o=e.length-1,i=+e[o],s=+n[o],a;return i<s?t.op==="add"||t.op==="copy"?(a=n.slice(),a[o]=Math.max(0,s-1),r.path=ne.absolute(ne.join(a))):t.op==="remove"&&(a=n.slice(),a[o]=s+1,r.path=ne.absolute(ne.join(a))):r.op==="add"||r.op==="copy"?(a=e.slice(),a[o]=i+1,t.path=ne.absolute(ne.join(a))):i>s&&r.op==="remove"&&(a=e.slice(),a[o]=Math.max(0,i-1),t.path=ne.absolute(ne.join(a))),[r,t]}function Ja(t,e,r,n,o){var i=e.length-1,s=+e[i],a=+n[i],l=n.slice();return s>a||(t.op==="add"||t.op==="copy"?l[i]=Math.max(0,a-o):t.op==="remove"&&(l[i]=Math.max(0,a+o))),l}function Cf(t,e){var r=t.length,n=e.length;if(r===0||n===0||r<2&&n<2)return[];for(var o=r===n?r-1:Math.min(r,n),i=0;i<o&&t[i]===e[i];)++i;return t.slice(0,i)}function qa(t){return t.op==="remove"?{op:t.op,path:t.path}:t.op==="copy"||t.op==="move"?{op:t.op,path:t.path,from:t.from}:{op:t.op,path:t.path,value:t.value}}});var Gi=ce((Ay,Za)=>{Za.exports=co;function co(t){Error.call(this),this.name=this.constructor.name,this.message=t,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}co.prototype=Object.create(Error.prototype);co.prototype.constructor=co});var uo=ce((My,Ka)=>{Ka.exports=lo;function lo(t){Error.call(this),this.name=this.constructor.name,this.message=t,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}lo.prototype=Object.create(Error.prototype);lo.prototype.constructor=lo});var Li=ce((Gy,Xa)=>{Xa.exports=po;function po(t){Error.call(this),this.name=this.constructor.name,this.message=t,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}po.prototype=Object.create(Error.prototype);po.prototype.constructor=po});var zi=ce(ur=>{var Ui=ao(),Bi=Ai(),Of=Ya(),on=Va(),fo=Ni(),Df=Gi(),Ve=uo(),$i=Li(),Ct=Ui.find,mo=Ui.parseArrayIndex;ur.test={apply:Af,inverse:Mf,commute:Gf};ur.add={apply:Lf,inverse:Uf,commute:Qa};ur.remove={apply:zf,inverse:Hf,commute:Yf};ur.replace={apply:Bf,inverse:$f,commute:Ff};ur.move={apply:Jf,inverse:qf,commute:Wf};ur.copy={apply:Vf,inverse:Zf,commute:Qa};function Af(t,e,r){var n=Ct(t,e.path,r.findContext,e.context),o=n.target,i,s;if(Array.isArray(o)?(i=mo(n.key),s=o[i]):s=n.key===void 0?n.target:n.target[n.key],!Of(s,e.value))throw new Df("test failed "+JSON.stringify(e));return t}function Mf(t,e){return t.push(e),1}function Gf(t,e){if(t.path===e.path&&e.op==="remove")throw new TypeError("Can't commute test,remove -> remove,test for same path");return e.op==="test"||e.op==="replace"?[e,t]:on(t,e)}function Lf(t,e,r){var n=Ct(t,e.path,r.findContext,e.context);if(ho(n))throw new Ve("path does not exist "+e.path);if(e.value===void 0)throw new Ve("missing value");var o=Bi(e.value);return n.key===void 0?o:(Fi(n,o),t)}function Fi(t,e){var r=t.target;if(Array.isArray(r))if(t.key==="-")r.push(e);else{if(t.key>r.length)throw new Ve("target of add outside of array bounds");r.splice(t.key,0,e)}else if(rc(r))r[t.key]=e;else throw new Ve("target of add must be an object or array "+t.key)}function Uf(t,e){var r=e.context;return r!==void 0&&(r={before:r.before,after:fo.cons(e.value,r.after)}),t.push({op:"test",path:e.path,value:e.value,context:r}),t.push({op:"remove",path:e.path,context:r}),1}function Qa(t,e){if(t.path===e.path&&e.op==="remove")throw new TypeError("Can't commute add,remove -> remove,add for same path");return on(t,e)}function Bf(t,e,r){var n=Ct(t,e.path,r.findContext,e.context);if(ho(n)||tc(n))throw new Ve("path does not exist "+e.path);if(e.value===void 0)throw new Ve("missing value");var o=Bi(e.value);if(n.key===void 0)return o;var i=n.target;return Array.isArray(i)?i[mo(n.key)]=o:i[n.key]=o,t}function $f(t,e,r,n){var o=n[r-1];if(o===void 0||o.op!=="test"||o.path!==e.path)throw new $i("cannot invert replace w/o test");var i=o.context;return i!==void 0&&(i={before:i.before,after:fo.cons(o.value,fo.tail(i.after))}),t.push({op:"test",path:o.path,value:e.value}),t.push({op:"replace",path:o.path,value:o.value}),2}function Ff(t,e){if(t.path===e.path&&e.op==="remove")throw new TypeError("Can't commute replace,remove -> remove,replace for same path");return e.op==="test"||e.op==="replace"?[e,t]:on(t,e)}function zf(t,e,r){var n=Ct(t,e.path,r.findContext,e.context);if(ho(n)||n.target[n.key]===void 0)throw new Ve("path does not exist "+e.path);return ec(n),t}function ec(t){var e=t.target,r;if(Array.isArray(e))return r=e.splice(mo(t.key),1),r[0];if(rc(e))return r=e[t.key],delete e[t.key],r;throw new Ve("target of remove must be an object or array")}function Hf(t,e,r,n){var o=n[r-1];if(o===void 0||o.op!=="test"||o.path!==e.path)throw new $i("cannot invert remove w/o test");var i=o.context;return i!==void 0&&(i={before:i.before,after:fo.tail(i.after)}),t.push({op:"add",path:o.path,value:o.value,context:i}),2}function Yf(t,e){return t.path===e.path&&e.op==="remove"?[e,t]:on(t,e)}function Jf(t,e,r){if(Ui.contains(e.path,e.from))throw new Ve("move.from cannot be ancestor of move.path");var n=Ct(t,e.path,r.findContext,e.context),o=Ct(t,e.from,r.findContext,e.fromContext);return Fi(n,ec(o)),t}function qf(t,e){return t.push({op:"move",path:e.from,context:e.fromContext,from:e.path,fromContext:e.context}),1}function Wf(t,e){if(t.path===e.path&&e.op==="remove")throw new TypeError("Can't commute move,remove -> move,replace for same path");return on(t,e)}function Vf(t,e,r){var n=Ct(t,e.path,r.findContext,e.context),o=Ct(t,e.from,r.findContext,e.fromContext);if(ho(o)||tc(o))throw new Ve("copy.from must exist");var i=o.target,s;return Array.isArray(i)?s=i[mo(o.key)]:s=i[o.key],Fi(n,Bi(s)),t}function Zf(t,e){throw new $i("cannot invert "+e.op)}function ho(t){return t===void 0||t.target==null&&t.key!==void 0}function tc(t){return t.key!==void 0&&t.target[t.key]===void 0}function rc(t){return t!==null&&typeof t=="object"}});var sc=ce(Ur=>{var Kf=zi(),nc=Ai(),Xf=uo();Ur.apply=em;Ur.applyInPlace=oc;Ur.clone=nc;Ur.isValidObject=ic;Ur.defaultHash=tm;var Qf={};function em(t,e,r){return oc(t,nc(e),r)}function oc(t,e,r){if(r||(r=Qf),!Array.isArray(t))return e;for(var n,o,i=0;i<t.length;++i){if(o=t[i],n=Kf[o.op],n===void 0)throw new Xf("invalid op "+JSON.stringify(o));e=n.apply(e,o,r)}return e}function tm(t){return ic(t)||rm(t)?JSON.stringify(t):t}function ic(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function rm(t){return Object.prototype.toString.call(t)==="[object Array]"}});var cc=ce((By,ac)=>{var nm=zi();ac.exports=function(e){var r=[],n,o;for(n=e.length-1;n>=0;n-=o)o=om(r,e[n],n,e);return r};function om(t,e,r,n){var o=nm[e.op];return o!==void 0&&typeof o.inverse=="function"?o.inverse(t,e,r,n):1}});var mc=ce(ft=>{var go=La(),lc=Ni(),sn=sc(),im=cc(),sm=ao(),uc=sm.encodeSegment;ft.diff=am;ft.patch=sn.apply;ft.patchInPlace=sn.applyInPlace;ft.inverse=im;ft.clone=sn.clone;ft.InvalidPatchOperationError=uo();ft.TestFailedError=Gi();ft.PatchNotInvertibleError=Li();var dc=sn.isValidObject,pc=sn.defaultHash;function am(t,e,r){return Ji(t,e,"",cm(r,[])).patch}function cm(t,e){return typeof t=="object"?{patch:e,hash:Hi(Yi,t.hash,pc),makeContext:Hi(Yi,t.makeContext,fc),invertible:t.invertible!==!1}:{patch:e,hash:Hi(Yi,t,pc),makeContext:fc,invertible:!0}}function Ji(t,e,r,n){return Array.isArray(t)&&Array.isArray(e)?um(t,e,r,n):dc(t)&&dc(e)?lm(t,e,r,n):pm(t,e,r,n)}function lm(t,e,r,n){var o=Object.keys(e),i=n.patch,s,a;for(s=o.length-1;s>=0;--s){a=o[s];var l=r+"/"+uc(a);t[a]!==void 0?Ji(t[a],e[a],l,n):i.push({op:"add",path:l,value:e[a]})}for(o=Object.keys(t),s=o.length-1;s>=0;--s)if(a=o[s],e[a]===void 0){var u=r+"/"+uc(a);n.invertible&&i.push({op:"test",path:u,value:t[a]}),i.push({op:"remove",path:u})}return n}function um(t,e,r,n){var o=lc.map(n.hash,t),i=lc.map(n.hash,e),s=go.compare(o,i);return dm(t,e,r,n,s)}function dm(t,e,r,n,o){var i=0;return go.reduce(function(s,a,l,u){var p,h,I=s.patch,b=r+"/"+(u+i);return a===go.REMOVE?(p=I[I.length-1],h=s.makeContext(u,t),s.invertible&&I.push({op:"test",path:b,value:t[u],context:h}),p!==void 0&&p.op==="add"&&p.path===b?(p.op="replace",p.context=h):I.push({op:"remove",path:b,context:h}),i-=1):a===go.ADD?(I.push({op:"add",path:b,value:e[l],context:s.makeContext(u,t)}),i+=1):Ji(t[u],e[l],b,s),s},n,o)}function pm(t,e,r,n){return t!==e&&(n.invertible&&n.patch.push({op:"test",path:r,value:t}),n.patch.push({op:"replace",path:r,value:e})),n}function Hi(t,e,r){return t(e)?e:r}function fc(){}function Yi(t){return typeof t=="function"}});var R;(function(t){t.assertEqual=o=>o;function e(o){}t.assertIs=e;function r(o){throw new Error}t.assertNever=r,t.arrayToEnum=o=>{let i={};for(let s of o)i[s]=s;return i},t.getValidEnumValues=o=>{let i=t.objectKeys(o).filter(a=>typeof o[o[a]]!="number"),s={};for(let a of i)s[a]=o[a];return t.objectValues(s)},t.objectValues=o=>t.objectKeys(o).map(function(i){return o[i]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{let i=[];for(let s in o)Object.prototype.hasOwnProperty.call(o,s)&&i.push(s);return i},t.find=(o,i)=>{for(let s of o)if(i(s))return s},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function n(o,i=" | "){return o.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(o,i)=>typeof i=="bigint"?i.toString():i})(R||(R={}));var li;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(li||(li={}));var _=R.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),xt=t=>{switch(typeof t){case"undefined":return _.undefined;case"string":return _.string;case"number":return isNaN(t)?_.nan:_.number;case"boolean":return _.boolean;case"function":return _.function;case"bigint":return _.bigint;case"symbol":return _.symbol;case"object":return Array.isArray(t)?_.array:t===null?_.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?_.promise:typeof Map<"u"&&t instanceof Map?_.map:typeof Set<"u"&&t instanceof Set?_.set:typeof Date<"u"&&t instanceof Date?_.date:_.object;default:return _.unknown}},g=R.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),pu=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),pe=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let r=e||function(i){return i.message},n={_errors:[]},o=i=>{for(let s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(o);else if(s.code==="invalid_return_type")o(s.returnTypeError);else if(s.code==="invalid_arguments")o(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let a=n,l=0;for(;l<s.path.length;){let u=s.path[l];l===s.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(s))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return o(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,R.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let o of this.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(e(o))):n.push(e(o));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};pe.create=t=>new pe(t);var en=(t,e)=>{let r;switch(t.code){case g.invalid_type:t.received===_.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case g.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,R.jsonStringifyReplacer)}`;break;case g.unrecognized_keys:r=`Unrecognized key(s) in object: ${R.joinValues(t.keys,", ")}`;break;case g.invalid_union:r="Invalid input";break;case g.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${R.joinValues(t.options)}`;break;case g.invalid_enum_value:r=`Invalid enum value. Expected ${R.joinValues(t.options)}, received '${t.received}'`;break;case g.invalid_arguments:r="Invalid function arguments";break;case g.invalid_return_type:r="Invalid function return type";break;case g.invalid_date:r="Invalid date";break;case g.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:R.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case g.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case g.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case g.custom:r="Invalid input";break;case g.invalid_intersection_types:r="Intersection results could not be merged";break;case g.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case g.not_finite:r="Number must be finite";break;default:r=e.defaultError,R.assertNever(t)}return{message:r}},oa=en;function fu(t){oa=t}function In(){return oa}var Rn=t=>{let{data:e,path:r,errorMaps:n,issueData:o}=t,i=[...r,...o.path||[]],s={...o,path:i},a="",l=n.filter(u=>!!u).slice().reverse();for(let u of l)a=u(s,{data:e,defaultError:a}).message;return{...o,path:i,message:o.message||a}},mu=[];function y(t,e){let r=Rn({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,In(),en].filter(n=>!!n)});t.common.issues.push(r)}var Q=class{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let o of r){if(o.status==="aborted")return S;o.status==="dirty"&&e.dirty(),n.push(o.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let o of r)n.push({key:await o.key,value:await o.value});return Q.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let o of r){let{key:i,value:s}=o;if(i.status==="aborted"||s.status==="aborted")return S;i.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),(typeof s.value<"u"||o.alwaysSet)&&(n[i.value]=s.value)}return{status:e.value,value:n}}},S=Object.freeze({status:"aborted"}),ia=t=>({status:"dirty",value:t}),oe=t=>({status:"valid",value:t}),ui=t=>t.status==="aborted",di=t=>t.status==="dirty",Nn=t=>t.status==="valid",Cn=t=>typeof Promise<"u"&&t instanceof Promise,E;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(E||(E={}));var Te=class{constructor(e,r,n,o){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},ra=(t,e)=>{if(Nn(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new pe(t.common.issues);return this._error=r,this._error}}};function k(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:o}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(s,a)=>s.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:o}}var j=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return xt(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:xt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Q,ctx:{common:e.parent.common,data:e.data,parsedType:xt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(Cn(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;let o={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xt(e)},i=this._parseSync({data:e,path:o.path,parent:o});return ra(o,i)}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xt(e)},o=this._parse({data:e,path:n.path,parent:n}),i=await(Cn(o)?o:Promise.resolve(o));return ra(n,i)}refine(e,r){let n=o=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(o):r;return this._refinement((o,i)=>{let s=e(o),a=()=>i.addIssue({code:g.custom,...n(o)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,o)=>e(n)?!0:(o.addIssue(typeof r=="function"?r(n,o):r),!1))}_refinement(e){return new me({schema:this,typeName:T.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Re.create(this,this._def)}nullable(){return at.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return fe.create(this,this._def)}promise(){return Pt.create(this,this._def)}or(e){return Zt.create([this,e],this._def)}and(e){return Kt.create(this,e,this._def)}transform(e){return new me({...k(this._def),schema:this,typeName:T.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new rr({...k(this._def),innerType:this,defaultValue:r,typeName:T.ZodDefault})}brand(){return new On({typeName:T.ZodBranded,type:this,...k(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new wr({...k(this._def),innerType:this,catchValue:r,typeName:T.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return nr.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},hu=/^c[^\s-]{8,}$/i,gu=/^[a-z][a-z0-9]*$/,_u=/[0-9A-HJKMNP-TV-Z]{26}/,yu=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,bu=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,vu=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,Eu=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Tu=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Su=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function xu(t,e){return!!((e==="v4"||!e)&&Eu.test(t)||(e==="v6"||!e)&&Tu.test(t))}var de=class extends j{constructor(){super(...arguments),this._regex=(e,r,n)=>this.refinement(o=>e.test(o),{validation:r,code:g.invalid_string,...E.errToObj(n)}),this.nonempty=e=>this.min(1,E.errToObj(e)),this.trim=()=>new de({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new de({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new de({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==_.string){let i=this._getOrReturnCtx(e);return y(i,{code:g.invalid_type,expected:_.string,received:i.parsedType}),S}let n=new Q,o;for(let i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(o=this._getOrReturnCtx(e,o),y(o,{code:g.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(o=this._getOrReturnCtx(e,o),y(o,{code:g.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){let s=e.data.length>i.value,a=e.data.length<i.value;(s||a)&&(o=this._getOrReturnCtx(e,o),s?y(o,{code:g.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&y(o,{code:g.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")bu.test(e.data)||(o=this._getOrReturnCtx(e,o),y(o,{validation:"email",code:g.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")vu.test(e.data)||(o=this._getOrReturnCtx(e,o),y(o,{validation:"emoji",code:g.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")yu.test(e.data)||(o=this._getOrReturnCtx(e,o),y(o,{validation:"uuid",code:g.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")hu.test(e.data)||(o=this._getOrReturnCtx(e,o),y(o,{validation:"cuid",code:g.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")gu.test(e.data)||(o=this._getOrReturnCtx(e,o),y(o,{validation:"cuid2",code:g.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")_u.test(e.data)||(o=this._getOrReturnCtx(e,o),y(o,{validation:"ulid",code:g.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),y(o,{validation:"url",code:g.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),y(o,{validation:"regex",code:g.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(o=this._getOrReturnCtx(e,o),y(o,{code:g.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(o=this._getOrReturnCtx(e,o),y(o,{code:g.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(o=this._getOrReturnCtx(e,o),y(o,{code:g.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Su(i).test(e.data)||(o=this._getOrReturnCtx(e,o),y(o,{code:g.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="ip"?xu(e.data,i.version)||(o=this._getOrReturnCtx(e,o),y(o,{validation:"ip",code:g.invalid_string,message:i.message}),n.dirty()):R.assertNever(i);return{status:n.value,value:e.data}}_addCheck(e){return new de({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...E.errToObj(e)})}url(e){return this._addCheck({kind:"url",...E.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...E.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...E.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...E.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...E.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...E.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...E.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,...E.errToObj(e?.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...E.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...E.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...E.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...E.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...E.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...E.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...E.errToObj(r)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};de.create=t=>{var e;return new de({checks:[],typeName:T.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...k(t)})};function ku(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,o=r>n?r:n,i=parseInt(t.toFixed(o).replace(".","")),s=parseInt(e.toFixed(o).replace(".",""));return i%s/Math.pow(10,o)}var Ye=class extends j{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==_.number){let i=this._getOrReturnCtx(e);return y(i,{code:g.invalid_type,expected:_.number,received:i.parsedType}),S}let n,o=new Q;for(let i of this._def.checks)i.kind==="int"?R.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),y(n,{code:g.invalid_type,expected:"integer",received:"float",message:i.message}),o.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),y(n,{code:g.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),y(n,{code:g.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="multipleOf"?ku(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),y(n,{code:g.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),y(n,{code:g.not_finite,message:i.message}),o.dirty()):R.assertNever(i);return{status:o.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,E.toString(r))}gt(e,r){return this.setLimit("min",e,!1,E.toString(r))}lte(e,r){return this.setLimit("max",e,!0,E.toString(r))}lt(e,r){return this.setLimit("max",e,!1,E.toString(r))}setLimit(e,r,n,o){return new Ye({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:E.toString(o)}]})}_addCheck(e){return new Ye({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:E.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:E.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:E.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:E.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:E.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:E.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:E.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:E.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:E.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&R.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};Ye.create=t=>new Ye({checks:[],typeName:T.ZodNumber,coerce:t?.coerce||!1,...k(t)});var Je=class extends j{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==_.bigint){let i=this._getOrReturnCtx(e);return y(i,{code:g.invalid_type,expected:_.bigint,received:i.parsedType}),S}let n,o=new Q;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),y(n,{code:g.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),y(n,{code:g.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),y(n,{code:g.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):R.assertNever(i);return{status:o.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,E.toString(r))}gt(e,r){return this.setLimit("min",e,!1,E.toString(r))}lte(e,r){return this.setLimit("max",e,!0,E.toString(r))}lt(e,r){return this.setLimit("max",e,!1,E.toString(r))}setLimit(e,r,n,o){return new Je({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:E.toString(o)}]})}_addCheck(e){return new Je({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:E.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:E.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:E.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:E.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:E.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Je.create=t=>{var e;return new Je({checks:[],typeName:T.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...k(t)})};var qt=class extends j{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==_.boolean){let n=this._getOrReturnCtx(e);return y(n,{code:g.invalid_type,expected:_.boolean,received:n.parsedType}),S}return oe(e.data)}};qt.create=t=>new qt({typeName:T.ZodBoolean,coerce:t?.coerce||!1,...k(t)});var it=class extends j{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==_.date){let i=this._getOrReturnCtx(e);return y(i,{code:g.invalid_type,expected:_.date,received:i.parsedType}),S}if(isNaN(e.data.getTime())){let i=this._getOrReturnCtx(e);return y(i,{code:g.invalid_date}),S}let n=new Q,o;for(let i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(o=this._getOrReturnCtx(e,o),y(o,{code:g.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(o=this._getOrReturnCtx(e,o),y(o,{code:g.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):R.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new it({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:E.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:E.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};it.create=t=>new it({checks:[],coerce:t?.coerce||!1,typeName:T.ZodDate,...k(t)});var xr=class extends j{_parse(e){if(this._getType(e)!==_.symbol){let n=this._getOrReturnCtx(e);return y(n,{code:g.invalid_type,expected:_.symbol,received:n.parsedType}),S}return oe(e.data)}};xr.create=t=>new xr({typeName:T.ZodSymbol,...k(t)});var Wt=class extends j{_parse(e){if(this._getType(e)!==_.undefined){let n=this._getOrReturnCtx(e);return y(n,{code:g.invalid_type,expected:_.undefined,received:n.parsedType}),S}return oe(e.data)}};Wt.create=t=>new Wt({typeName:T.ZodUndefined,...k(t)});var Vt=class extends j{_parse(e){if(this._getType(e)!==_.null){let n=this._getOrReturnCtx(e);return y(n,{code:g.invalid_type,expected:_.null,received:n.parsedType}),S}return oe(e.data)}};Vt.create=t=>new Vt({typeName:T.ZodNull,...k(t)});var jt=class extends j{constructor(){super(...arguments),this._any=!0}_parse(e){return oe(e.data)}};jt.create=t=>new jt({typeName:T.ZodAny,...k(t)});var ot=class extends j{constructor(){super(...arguments),this._unknown=!0}_parse(e){return oe(e.data)}};ot.create=t=>new ot({typeName:T.ZodUnknown,...k(t)});var Ne=class extends j{_parse(e){let r=this._getOrReturnCtx(e);return y(r,{code:g.invalid_type,expected:_.never,received:r.parsedType}),S}};Ne.create=t=>new Ne({typeName:T.ZodNever,...k(t)});var kr=class extends j{_parse(e){if(this._getType(e)!==_.undefined){let n=this._getOrReturnCtx(e);return y(n,{code:g.invalid_type,expected:_.void,received:n.parsedType}),S}return oe(e.data)}};kr.create=t=>new kr({typeName:T.ZodVoid,...k(t)});var fe=class extends j{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),o=this._def;if(r.parsedType!==_.array)return y(r,{code:g.invalid_type,expected:_.array,received:r.parsedType}),S;if(o.exactLength!==null){let s=r.data.length>o.exactLength.value,a=r.data.length<o.exactLength.value;(s||a)&&(y(r,{code:s?g.too_big:g.too_small,minimum:a?o.exactLength.value:void 0,maximum:s?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(o.minLength!==null&&r.data.length<o.minLength.value&&(y(r,{code:g.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),o.maxLength!==null&&r.data.length>o.maxLength.value&&(y(r,{code:g.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,a)=>o.type._parseAsync(new Te(r,s,r.path,a)))).then(s=>Q.mergeArray(n,s));let i=[...r.data].map((s,a)=>o.type._parseSync(new Te(r,s,r.path,a)));return Q.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new fe({...this._def,minLength:{value:e,message:E.toString(r)}})}max(e,r){return new fe({...this._def,maxLength:{value:e,message:E.toString(r)}})}length(e,r){return new fe({...this._def,exactLength:{value:e,message:E.toString(r)}})}nonempty(e){return this.min(1,e)}};fe.create=(t,e)=>new fe({type:t,minLength:null,maxLength:null,exactLength:null,typeName:T.ZodArray,...k(e)});function Sr(t){if(t instanceof G){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=Re.create(Sr(n))}return new G({...t._def,shape:()=>e})}else return t instanceof fe?new fe({...t._def,type:Sr(t.element)}):t instanceof Re?Re.create(Sr(t.unwrap())):t instanceof at?at.create(Sr(t.unwrap())):t instanceof Se?Se.create(t.items.map(e=>Sr(e))):t}var G=class extends j{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=R.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==_.object){let u=this._getOrReturnCtx(e);return y(u,{code:g.invalid_type,expected:_.object,received:u.parsedType}),S}let{status:n,ctx:o}=this._processInputParams(e),{shape:i,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ne&&this._def.unknownKeys==="strip"))for(let u in o.data)s.includes(u)||a.push(u);let l=[];for(let u of s){let p=i[u],h=o.data[u];l.push({key:{status:"valid",value:u},value:p._parse(new Te(o,h,o.path,u)),alwaysSet:u in o.data})}if(this._def.catchall instanceof Ne){let u=this._def.unknownKeys;if(u==="passthrough")for(let p of a)l.push({key:{status:"valid",value:p},value:{status:"valid",value:o.data[p]}});else if(u==="strict")a.length>0&&(y(o,{code:g.unrecognized_keys,keys:a}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let p of a){let h=o.data[p];l.push({key:{status:"valid",value:p},value:u._parse(new Te(o,h,o.path,p)),alwaysSet:p in o.data})}}return o.common.async?Promise.resolve().then(async()=>{let u=[];for(let p of l){let h=await p.key;u.push({key:h,value:await p.value,alwaysSet:p.alwaysSet})}return u}).then(u=>Q.mergeObjectSync(n,u)):Q.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return E.errToObj,new G({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var o,i,s,a;let l=(s=(i=(o=this._def).errorMap)===null||i===void 0?void 0:i.call(o,r,n).message)!==null&&s!==void 0?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=E.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new G({...this._def,unknownKeys:"strip"})}passthrough(){return new G({...this._def,unknownKeys:"passthrough"})}extend(e){return new G({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new G({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:T.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new G({...this._def,catchall:e})}pick(e){let r={};return R.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new G({...this._def,shape:()=>r})}omit(e){let r={};return R.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new G({...this._def,shape:()=>r})}deepPartial(){return Sr(this)}partial(e){let r={};return R.objectKeys(this.shape).forEach(n=>{let o=this.shape[n];e&&!e[n]?r[n]=o:r[n]=o.optional()}),new G({...this._def,shape:()=>r})}required(e){let r={};return R.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Re;)i=i._def.innerType;r[n]=i}}),new G({...this._def,shape:()=>r})}keyof(){return sa(R.objectKeys(this.shape))}};G.create=(t,e)=>new G({shape:()=>t,unknownKeys:"strip",catchall:Ne.create(),typeName:T.ZodObject,...k(e)});G.strictCreate=(t,e)=>new G({shape:()=>t,unknownKeys:"strict",catchall:Ne.create(),typeName:T.ZodObject,...k(e)});G.lazycreate=(t,e)=>new G({shape:t,unknownKeys:"strip",catchall:Ne.create(),typeName:T.ZodObject,...k(e)});var Zt=class extends j{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function o(i){for(let a of i)if(a.result.status==="valid")return a.result;for(let a of i)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let s=i.map(a=>new pe(a.ctx.common.issues));return y(r,{code:g.invalid_union,unionErrors:s}),S}if(r.common.async)return Promise.all(n.map(async i=>{let s={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(o);{let i,s=[];for(let l of n){let u={...r,common:{...r.common,issues:[]},parent:null},p=l._parseSync({data:r.data,path:r.path,parent:u});if(p.status==="valid")return p;p.status==="dirty"&&!i&&(i={result:p,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;let a=s.map(l=>new pe(l));return y(r,{code:g.invalid_union,unionErrors:a}),S}}get options(){return this._def.options}};Zt.create=(t,e)=>new Zt({options:t,typeName:T.ZodUnion,...k(e)});var wn=t=>t instanceof Qt?wn(t.schema):t instanceof me?wn(t.innerType()):t instanceof er?[t.value]:t instanceof qe?t.options:t instanceof tr?Object.keys(t.enum):t instanceof rr?wn(t._def.innerType):t instanceof Wt?[void 0]:t instanceof Vt?[null]:null,jr=class extends j{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==_.object)return y(r,{code:g.invalid_type,expected:_.object,received:r.parsedType}),S;let n=this.discriminator,o=r.data[n],i=this.optionsMap.get(o);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(y(r,{code:g.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),S)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let o=new Map;for(let i of r){let s=wn(i.shape[e]);if(!s)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of s){if(o.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);o.set(a,i)}}return new jr({typeName:T.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:o,...k(n)})}};function pi(t,e){let r=xt(t),n=xt(e);if(t===e)return{valid:!0,data:t};if(r===_.object&&n===_.object){let o=R.objectKeys(e),i=R.objectKeys(t).filter(a=>o.indexOf(a)!==-1),s={...t,...e};for(let a of i){let l=pi(t[a],e[a]);if(!l.valid)return{valid:!1};s[a]=l.data}return{valid:!0,data:s}}else if(r===_.array&&n===_.array){if(t.length!==e.length)return{valid:!1};let o=[];for(let i=0;i<t.length;i++){let s=t[i],a=e[i],l=pi(s,a);if(!l.valid)return{valid:!1};o.push(l.data)}return{valid:!0,data:o}}else return r===_.date&&n===_.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Kt=class extends j{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),o=(i,s)=>{if(ui(i)||ui(s))return S;let a=pi(i.value,s.value);return a.valid?((di(i)||di(s))&&r.dirty(),{status:r.value,value:a.data}):(y(n,{code:g.invalid_intersection_types}),S)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,s])=>o(i,s)):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Kt.create=(t,e,r)=>new Kt({left:t,right:e,typeName:T.ZodIntersection,...k(r)});var Se=class extends j{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==_.array)return y(n,{code:g.invalid_type,expected:_.array,received:n.parsedType}),S;if(n.data.length<this._def.items.length)return y(n,{code:g.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),S;!this._def.rest&&n.data.length>this._def.items.length&&(y(n,{code:g.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...n.data].map((s,a)=>{let l=this._def.items[a]||this._def.rest;return l?l._parse(new Te(n,s,n.path,a)):null}).filter(s=>!!s);return n.common.async?Promise.all(i).then(s=>Q.mergeArray(r,s)):Q.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new Se({...this._def,rest:e})}};Se.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Se({items:t,typeName:T.ZodTuple,rest:null,...k(e)})};var Xt=class extends j{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==_.object)return y(n,{code:g.invalid_type,expected:_.object,received:n.parsedType}),S;let o=[],i=this._def.keyType,s=this._def.valueType;for(let a in n.data)o.push({key:i._parse(new Te(n,a,n.path,a)),value:s._parse(new Te(n,n.data[a],n.path,a))});return n.common.async?Q.mergeObjectAsync(r,o):Q.mergeObjectSync(r,o)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof j?new Xt({keyType:e,valueType:r,typeName:T.ZodRecord,...k(n)}):new Xt({keyType:de.create(),valueType:e,typeName:T.ZodRecord,...k(r)})}},Pr=class extends j{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==_.map)return y(n,{code:g.invalid_type,expected:_.map,received:n.parsedType}),S;let o=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map(([a,l],u)=>({key:o._parse(new Te(n,a,n.path,[u,"key"])),value:i._parse(new Te(n,l,n.path,[u,"value"]))}));if(n.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let l of s){let u=await l.key,p=await l.value;if(u.status==="aborted"||p.status==="aborted")return S;(u.status==="dirty"||p.status==="dirty")&&r.dirty(),a.set(u.value,p.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let l of s){let u=l.key,p=l.value;if(u.status==="aborted"||p.status==="aborted")return S;(u.status==="dirty"||p.status==="dirty")&&r.dirty(),a.set(u.value,p.value)}return{status:r.value,value:a}}}};Pr.create=(t,e,r)=>new Pr({valueType:e,keyType:t,typeName:T.ZodMap,...k(r)});var st=class extends j{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==_.set)return y(n,{code:g.invalid_type,expected:_.set,received:n.parsedType}),S;let o=this._def;o.minSize!==null&&n.data.size<o.minSize.value&&(y(n,{code:g.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&n.data.size>o.maxSize.value&&(y(n,{code:g.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());let i=this._def.valueType;function s(l){let u=new Set;for(let p of l){if(p.status==="aborted")return S;p.status==="dirty"&&r.dirty(),u.add(p.value)}return{status:r.value,value:u}}let a=[...n.data.values()].map((l,u)=>i._parse(new Te(n,l,n.path,u)));return n.common.async?Promise.all(a).then(l=>s(l)):s(a)}min(e,r){return new st({...this._def,minSize:{value:e,message:E.toString(r)}})}max(e,r){return new st({...this._def,maxSize:{value:e,message:E.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};st.create=(t,e)=>new st({valueType:t,minSize:null,maxSize:null,typeName:T.ZodSet,...k(e)});var kt=class extends j{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==_.function)return y(r,{code:g.invalid_type,expected:_.function,received:r.parsedType}),S;function n(a,l){return Rn({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,In(),en].filter(u=>!!u),issueData:{code:g.invalid_arguments,argumentsError:l}})}function o(a,l){return Rn({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,In(),en].filter(u=>!!u),issueData:{code:g.invalid_return_type,returnTypeError:l}})}let i={errorMap:r.common.contextualErrorMap},s=r.data;return this._def.returns instanceof Pt?oe(async(...a)=>{let l=new pe([]),u=await this._def.args.parseAsync(a,i).catch(I=>{throw l.addIssue(n(a,I)),l}),p=await s(...u);return await this._def.returns._def.type.parseAsync(p,i).catch(I=>{throw l.addIssue(o(p,I)),l})}):oe((...a)=>{let l=this._def.args.safeParse(a,i);if(!l.success)throw new pe([n(a,l.error)]);let u=s(...l.data),p=this._def.returns.safeParse(u,i);if(!p.success)throw new pe([o(u,p.error)]);return p.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new kt({...this._def,args:Se.create(e).rest(ot.create())})}returns(e){return new kt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new kt({args:e||Se.create([]).rest(ot.create()),returns:r||ot.create(),typeName:T.ZodFunction,...k(n)})}},Qt=class extends j{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Qt.create=(t,e)=>new Qt({getter:t,typeName:T.ZodLazy,...k(e)});var er=class extends j{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return y(r,{received:r.data,code:g.invalid_literal,expected:this._def.value}),S}return{status:"valid",value:e.data}}get value(){return this._def.value}};er.create=(t,e)=>new er({value:t,typeName:T.ZodLiteral,...k(e)});function sa(t,e){return new qe({values:t,typeName:T.ZodEnum,...k(e)})}var qe=class extends j{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return y(r,{expected:R.joinValues(n),received:r.parsedType,code:g.invalid_type}),S}if(this._def.values.indexOf(e.data)===-1){let r=this._getOrReturnCtx(e),n=this._def.values;return y(r,{received:r.data,code:g.invalid_enum_value,options:n}),S}return oe(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e){return qe.create(e)}exclude(e){return qe.create(this.options.filter(r=>!e.includes(r)))}};qe.create=sa;var tr=class extends j{_parse(e){let r=R.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==_.string&&n.parsedType!==_.number){let o=R.objectValues(r);return y(n,{expected:R.joinValues(o),received:n.parsedType,code:g.invalid_type}),S}if(r.indexOf(e.data)===-1){let o=R.objectValues(r);return y(n,{received:n.data,code:g.invalid_enum_value,options:o}),S}return oe(e.data)}get enum(){return this._def.values}};tr.create=(t,e)=>new tr({values:t,typeName:T.ZodNativeEnum,...k(e)});var Pt=class extends j{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==_.promise&&r.common.async===!1)return y(r,{code:g.invalid_type,expected:_.promise,received:r.parsedType}),S;let n=r.parsedType===_.promise?r.data:Promise.resolve(r.data);return oe(n.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Pt.create=(t,e)=>new Pt({type:t,typeName:T.ZodPromise,...k(e)});var me=class extends j{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===T.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),o=this._def.effect||null;if(o.type==="preprocess"){let s=o.transform(n.data);return n.common.async?Promise.resolve(s).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:s,path:n.path,parent:n})}let i={addIssue:s=>{y(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),o.type==="refinement"){let s=a=>{let l=o.refinement(a,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?S:(a.status==="dirty"&&r.dirty(),s(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?S:(a.status==="dirty"&&r.dirty(),s(a.value).then(()=>({status:r.value,value:a.value}))))}if(o.type==="transform")if(n.common.async===!1){let s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Nn(s))return s;let a=o.transform(s.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>Nn(s)?Promise.resolve(o.transform(s.value,i)).then(a=>({status:r.value,value:a})):s);R.assertNever(o)}};me.create=(t,e,r)=>new me({schema:t,typeName:T.ZodEffects,effect:e,...k(r)});me.createWithPreprocess=(t,e,r)=>new me({schema:e,effect:{type:"preprocess",transform:t},typeName:T.ZodEffects,...k(r)});var Re=class extends j{_parse(e){return this._getType(e)===_.undefined?oe(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Re.create=(t,e)=>new Re({innerType:t,typeName:T.ZodOptional,...k(e)});var at=class extends j{_parse(e){return this._getType(e)===_.null?oe(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};at.create=(t,e)=>new at({innerType:t,typeName:T.ZodNullable,...k(e)});var rr=class extends j{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===_.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};rr.create=(t,e)=>new rr({innerType:t,typeName:T.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...k(e)});var wr=class extends j{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},o=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Cn(o)?o.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new pe(n.common.issues)},input:n.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new pe(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};wr.create=(t,e)=>new wr({innerType:t,typeName:T.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...k(e)});var Ir=class extends j{_parse(e){if(this._getType(e)!==_.nan){let n=this._getOrReturnCtx(e);return y(n,{code:g.invalid_type,expected:_.nan,received:n.parsedType}),S}return{status:"valid",value:e.data}}};Ir.create=t=>new Ir({typeName:T.ZodNaN,...k(t)});var ju=Symbol("zod_brand"),On=class extends j{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},nr=class extends j{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?S:i.status==="dirty"?(r.dirty(),ia(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{let o=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?S:o.status==="dirty"?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:n.path,parent:n})}}static create(e,r){return new nr({in:e,out:r,typeName:T.ZodPipeline})}},aa=(t,e={},r)=>t?jt.create().superRefine((n,o)=>{var i,s;if(!t(n)){let a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,l=(s=(i=a.fatal)!==null&&i!==void 0?i:r)!==null&&s!==void 0?s:!0,u=typeof a=="string"?{message:a}:a;o.addIssue({code:"custom",...u,fatal:l})}}):jt.create(),Pu={object:G.lazycreate},T;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline"})(T||(T={}));var wu=(t,e={message:`Input not instance of ${t.name}`})=>aa(r=>r instanceof t,e),ca=de.create,la=Ye.create,Iu=Ir.create,Ru=Je.create,ua=qt.create,Nu=it.create,Cu=xr.create,Ou=Wt.create,Du=Vt.create,Au=jt.create,Mu=ot.create,Gu=Ne.create,Lu=kr.create,Uu=fe.create,Bu=G.create,$u=G.strictCreate,Fu=Zt.create,zu=jr.create,Hu=Kt.create,Yu=Se.create,Ju=Xt.create,qu=Pr.create,Wu=st.create,Vu=kt.create,Zu=Qt.create,Ku=er.create,Xu=qe.create,Qu=tr.create,ed=Pt.create,na=me.create,td=Re.create,rd=at.create,nd=me.createWithPreprocess,od=nr.create,id=()=>ca().optional(),sd=()=>la().optional(),ad=()=>ua().optional(),cd={string:t=>de.create({...t,coerce:!0}),number:t=>Ye.create({...t,coerce:!0}),boolean:t=>qt.create({...t,coerce:!0}),bigint:t=>Je.create({...t,coerce:!0}),date:t=>it.create({...t,coerce:!0})},ld=S,c=Object.freeze({__proto__:null,defaultErrorMap:en,setErrorMap:fu,getErrorMap:In,makeIssue:Rn,EMPTY_PATH:mu,addIssueToContext:y,ParseStatus:Q,INVALID:S,DIRTY:ia,OK:oe,isAborted:ui,isDirty:di,isValid:Nn,isAsync:Cn,get util(){return R},get objectUtil(){return li},ZodParsedType:_,getParsedType:xt,ZodType:j,ZodString:de,ZodNumber:Ye,ZodBigInt:Je,ZodBoolean:qt,ZodDate:it,ZodSymbol:xr,ZodUndefined:Wt,ZodNull:Vt,ZodAny:jt,ZodUnknown:ot,ZodNever:Ne,ZodVoid:kr,ZodArray:fe,ZodObject:G,ZodUnion:Zt,ZodDiscriminatedUnion:jr,ZodIntersection:Kt,ZodTuple:Se,ZodRecord:Xt,ZodMap:Pr,ZodSet:st,ZodFunction:kt,ZodLazy:Qt,ZodLiteral:er,ZodEnum:qe,ZodNativeEnum:tr,ZodPromise:Pt,ZodEffects:me,ZodTransformer:me,ZodOptional:Re,ZodNullable:at,ZodDefault:rr,ZodCatch:wr,ZodNaN:Ir,BRAND:ju,ZodBranded:On,ZodPipeline:nr,custom:aa,Schema:j,ZodSchema:j,late:Pu,get ZodFirstPartyTypeKind(){return T},coerce:cd,any:Au,array:Uu,bigint:Ru,boolean:ua,date:Nu,discriminatedUnion:zu,effect:na,enum:Xu,function:Vu,instanceof:wu,intersection:Hu,lazy:Zu,literal:Ku,map:qu,nan:Iu,nativeEnum:Qu,never:Gu,null:Du,nullable:rd,number:la,object:Bu,oboolean:ad,onumber:sd,optional:td,ostring:id,pipeline:od,preprocess:nd,promise:ed,record:Ju,set:Wu,strictObject:$u,string:ca,symbol:Cu,transformer:na,tuple:Yu,undefined:Ou,union:Fu,unknown:Mu,void:Lu,NEVER:ld,ZodIssueCode:g,quotelessJson:pu,ZodError:pe});var Ce=c.number(),An=c.string(),Mn=c.string(),Oe=c.string(),fi=c.string(),da=c.string(),pa=c.string(),mi=c.instanceof(window.File),Gn=c.enum(["start","end"]),he=c.enum(["info","success","warning","error"]),tn=c.enum(["mac","pc"]),or=c.object({left:c.number(),top:c.number()}).strict(),fa=c.object({clientX:c.number(),clientY:c.number()}).strict(),rn=c.object({width:c.number(),height:c.number()}).strict(),hi=c.object({dx:c.number(),dy:c.number()}).strict(),nn=c.enum(["indigo","violet","purple","fuchsia","pink","rose","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","gray"]),ud=c.union([c.string(),c.number(),c.boolean(),c.null()]),Dn=c.lazy(()=>c.union([ud,c.array(Dn),c.record(Dn)]));var wt=c.string().uuid(),ir="00000000-0000-0000-0000-000000000000";var pd=wt,Ln=c.object({id:pd}).strict();var It=wt,gi=Mn,fd=c.string(),md=c.enum(["free","pro"]),_i=c.object({id:md,name:c.string(),layouts:c.number().nullable(),memos:c.number().nullable(),colors:c.boolean(),private_links:c.boolean(),db_analysis:c.boolean(),db_access:c.boolean()}).strict(),yi=c.object({id:It,slug:gi,name:fd,plan:_i,logo:c.string().url(),location:c.string().optional(),description:c.string().optional(),heroku:Ln.optional()}).strict();var bi=(t,e)=>t.reduce((r,n)=>{let o=e(n);return r[o]||(r[o]=[]),r[o].push(n),r},{});function Un(t,e,r){return JSON.stringify($(t,e,r))}function $(t,e,r){let n=e.safeParse(t);if(n.success)return n.data;{let o=n.error.issues.map(s=>ma(t,s)),i=n.error.issues.map(s=>gd(t,s));throw console.error(`invalid ${r}`,o.length>1?o:o[0],t),Error(`invalid ${r}${i.length>1?` (${i.length} errors)`:""}: ${i.join(", ")}`)}}function gd(t,e){return e.code===c.ZodIssueCode.unrecognized_keys?`at ${Rr(e.path)}: invalid additional key${e.keys.length>1?"s:":""} ${e.keys.map(r=>`'${r}' (${JSON.stringify(Y(t,e.path.concat(r)))})`).join(", ")}`:e.code===c.ZodIssueCode.invalid_type?`at ${Rr(e.path)}: expect '${e.expected}' but got '${e.received}' (${JSON.stringify(Y(t,e.path))})`:e.code===c.ZodIssueCode.invalid_literal?`at ${Rr(e.path)}: expect ${JSON.stringify(e.expected)} but got ${JSON.stringify(Y(t,e.path))}`:e.code===c.ZodIssueCode.invalid_enum_value?`at ${Rr(e.path)}: expect \`${e.options.map(r=>JSON.stringify(r)).join(" | ")}\` but got ${JSON.stringify(Y(t,e.path))}`:e.code===c.ZodIssueCode.invalid_union_discriminator?`at ${Rr(e.path)}: expect \`${e.options.map(r=>JSON.stringify(r)).join(" | ")}\` but got ${JSON.stringify(Y(t,e.path))}`:e.code===c.ZodIssueCode.invalid_union?`at ${Rr(e.path)}: invalid union for ${JSON.stringify(ee(Y(t,e.path),2))}`:e.message}function Rr(t){return t.length===0?"_root_":`.${t.join(".")}`}function _d(t,e){return e.issues.map(r=>ma(t,r))}function ma(t,e){if(e.code===c.ZodIssueCode.invalid_type)return{code:e.code,path:e.path,value:ee(Y(t,e.path),2),message:e.message,expected:e.expected,received:e.received};if(e.code===c.ZodIssueCode.invalid_literal)return{code:e.code,path:e.path,value:ee(Y(t,e.path),2),message:e.message,expected:e.expected};if(e.code===c.ZodIssueCode.unrecognized_keys)return{code:e.code,path:e.path,value:ee(Y(t,e.path),2),message:e.message,keys:e.keys};if(e.code===c.ZodIssueCode.invalid_union)return{code:e.code,path:e.path,value:ee(Y(t,e.path),2),message:e.message,unionErrors:e.unionErrors.map(n=>_d(t,n))};if(e.code===c.ZodIssueCode.invalid_union_discriminator)return{code:e.code,path:e.path,value:ee(Y(t,e.path),2),message:e.message,options:e.options};if(e.code===c.ZodIssueCode.invalid_enum_value)return{code:e.code,path:e.path,value:ee(Y(t,e.path),2),message:e.message,options:e.options,received:e.received};if(e.code===c.ZodIssueCode.invalid_arguments)return{code:e.code,path:e.path,value:ee(Y(t,e.path),2),message:e.message,argumentsError:e.argumentsError};if(e.code===c.ZodIssueCode.invalid_return_type)return{code:e.code,path:e.path,value:ee(Y(t,e.path),2),message:e.message,returnTypeError:e.returnTypeError};if(e.code===c.ZodIssueCode.invalid_date)return{code:e.code,path:e.path,value:ee(Y(t,e.path),2),message:e.message};if(e.code===c.ZodIssueCode.invalid_string)return{code:e.code,path:e.path,value:ee(Y(t,e.path),2),message:e.message,validation:e.validation};if(e.code===c.ZodIssueCode.too_small)return{code:e.code,path:e.path,value:ee(Y(t,e.path),2),message:e.message,type:e.type,minimum:e.minimum,inclusive:e.inclusive};if(e.code===c.ZodIssueCode.too_big)return{code:e.code,path:e.path,value:ee(Y(t,e.path),2),message:e.message,type:e.type,maximum:e.maximum,inclusive:e.inclusive};if(e.code===c.ZodIssueCode.invalid_intersection_types)return{code:e.code,path:e.path,value:ee(Y(t,e.path),2),message:e.message};if(e.code===c.ZodIssueCode.not_multiple_of)return{code:e.code,path:e.path,value:ee(Y(t,e.path),2),message:e.message,multipleOf:e.multipleOf};if(e.code===c.ZodIssueCode.custom)return{code:e.code,path:e.path,value:ee(Y(t,e.path),2),message:e.message,params:e.params};throw"Unhandled ZodIssue!"}function Y(t,e){if(e.length===0||t===void 0||t===null)return t;{let[r,...n]=e;return Y(t[r],n)}}function ee(t,e){return Array.isArray(t)?e<=0?"?":(t.length>3?t.slice(0,3).concat(["..."]):t).map(r=>ee(r,e-1)):t===null?t:typeof t=="object"?e<=0?"?":Object.fromEntries(Object.entries(t).map(([r,n])=>[r,ee(n,e-1)])):typeof t=="string"&&t.length>30?t.substring(0,30)+"...":t}var ct=wt,$n=Mn,Fn=c.string(),cr=wt,yd=c.string(),De=c.string(),ar=c.string(),zn=c.string(),Hn=c.string(),lt=c.string(),vi=c.string(),Ei=c.union([c.string(),c.number(),c.boolean(),c.null(),Dn]),bd=c.string(),vd=c.number(),Ed=c.string(),Td=c.string(),Sd=c.number(),ha=c.string(),xd=c.number(),ga=wt,kd=c.object({kind:c.literal("DatabaseConnection"),url:c.string()}).strict(),jd=c.object({kind:c.literal("SqlLocalFile"),name:c.string(),size:c.number(),modified:Ce}).strict(),Pd=c.object({kind:c.literal("SqlRemoteFile"),url:c.string(),size:c.number()}).strict(),wd=c.object({kind:c.literal("JsonLocalFile"),name:c.string(),size:c.number(),modified:Ce}).strict(),Id=c.object({kind:c.literal("JsonRemoteFile"),url:c.string(),size:c.number()}).strict(),Rd=c.object({kind:c.literal("AmlEditor")}).strict(),Nd=c.discriminatedUnion("kind",[kd,jd,Pd,wd,Id,Rd]),Ti=c.enum(["import-project","sql-source","json-source"]),ut=c.object({id:cr,lines:vd.array()}).strict(),_a=c.object({text:c.string(),origins:ut.array().optional()}).strict(),ya=c.object({name:lt,type:vi,nullable:c.boolean().optional(),default:c.string().optional(),comment:_a.optional(),columns:c.lazy(()=>ya.array().optional()),origins:ut.array().optional()}).strict(),Cd=c.object({name:c.string().optional(),columns:lt.array(),origins:ut.array().optional()}).strict(),Od=c.object({name:c.string(),columns:lt.array(),definition:c.string().optional(),origins:ut.array().optional()}).strict(),Dd=c.object({name:c.string(),columns:lt.array(),definition:c.string().optional(),origins:ut.array().optional()}).strict(),Ad=c.object({name:c.string(),columns:lt.array(),predicate:c.string().optional(),origins:ut.array().optional()}).strict(),Md=c.object({schema:ar,table:zn,view:c.boolean().optional(),columns:ya.array(),primaryKey:Cd.optional(),uniques:Od.array().optional(),indexes:Dd.array().optional(),checks:Ad.array().optional(),comment:_a.optional(),origins:ut.array().optional()}).strict(),Bn=c.object({table:De,column:lt}).strict(),Gd=c.object({name:Ed,src:Bn,ref:Bn,origins:ut.array().optional()}).strict(),Ld=c.object({schema:ar,name:Td,value:c.union([c.object({enum:c.string().array()}).strict(),c.object({definition:c.string()}).strict()]),origins:ut.array().optional()}).strict(),Ud=c.object({id:cr,name:yd,kind:Nd,content:bd.array(),tables:Md.array(),relations:Gd.array(),types:Ld.array().optional(),enabled:c.boolean().optional(),fromSample:c.string().optional(),createdAt:Ce,updatedAt:Ce}).strict(),Bd=c.object({position:or,zoom:xd}).strict(),$d=c.object({id:De,position:or,size:rn,color:nn,columns:lt.array(),selected:c.boolean().optional(),collapsed:c.boolean().optional(),hiddenColumns:c.boolean().optional()}).strict(),Fd=c.object({id:Sd,content:c.string(),position:or,size:rn,color:nn.optional()}).strict(),zd=c.object({canvas:Bd,tables:$d.array(),memos:Fd.array().optional(),createdAt:Ce,updatedAt:Ce}).strict(),Hd=c.object({findPath:c.object({maxPathLength:c.number().optional(),ignoredTables:c.string().optional(),ignoredColumns:c.string().optional()}).strict().optional(),defaultSchema:ar.optional(),removedSchemas:ar.array().optional(),removeViews:c.boolean().optional(),removedTables:c.string().optional(),hiddenColumns:c.object({list:c.string().optional(),max:c.number().optional(),props:c.boolean().optional(),relations:c.boolean().optional()}).strict().optional(),columnOrder:c.enum(["sql","property","name","type"]).optional(),relationStyle:c.enum(["Bezier","Straight","Steps"]).optional(),columnBasicTypes:c.boolean().optional(),collapseTableColumns:c.boolean().optional()}).strict(),A=c.enum(["local","remote"]),Nr=c.enum(["none","read","write"]),Yn=c.union([c.literal(1),c.literal(2)]),Ae=c.object({organization:yi.optional(),id:ct,slug:$n,name:Fn,description:c.string().optional(),sources:Ud.array(),notes:c.record(c.string()).optional(),usedLayout:ha,layouts:c.record(ha,zd),settings:Hd.optional(),storage:A,visibility:Nr,createdAt:Ce,updatedAt:Ce,version:Yn}).strict(),ie=Ae.omit({organization:!0,id:!0,storage:!0,visibility:!0,createdAt:!0,updatedAt:!0}).extend({_type:c.literal("json")}).strict(),ba=c.object({nbSources:c.number(),nbTables:c.number(),nbColumns:c.number(),nbRelations:c.number(),nbTypes:c.number(),nbComments:c.number(),nbLayouts:c.number(),nbNotes:c.number(),nbMemos:c.number()}).strict(),va=ba.extend({organization:yi.optional(),id:ct,slug:$n,name:Fn,description:c.string().optional(),storage:c.literal(A.enum.local),visibility:Nr,encodingVersion:Yn,createdAt:Ce,updatedAt:Ce}).strict(),Yd=va.omit({storage:!0}).extend({storage:c.literal(A.enum.remote)}).strict(),Ea=c.discriminatedUnion("storage",[va,Yd]);function Si(t){return t.storage===A.enum.local}function Jn(t){return t.storage===A.enum.remote}function xi(t){let[e,r]=t.split(".");return r===void 0?{schema:"",table:e}:{schema:e,table:r}}function ki(t,n){var o=n,{_type:e}=o,r=nt(o,["_type"]);return $(ae(re({},r),{id:t,slug:t,storage:A.enum.local,visibility:Nr.enum.none,createdAt:Date.now(),updatedAt:Date.now()}),Ae,"Project")}function qn(t,n){var o=n,{_type:e}=o,r=nt(o,["_type"]);return $(ae(re({},r),{organization:t.organization,id:t.id,storage:A.enum.local,visibility:Nr.enum.none,createdAt:t.createdAt,updatedAt:t.updatedAt}),Ae,"Project")}function Wn(t,n){var o=n,{_type:e}=o,r=nt(o,["_type"]);return $(ae(re({},r),{organization:t.organization,id:t.id,slug:t.slug,storage:A.enum.remote,visibility:t.visibility,createdAt:t.createdAt,updatedAt:t.updatedAt}),Ae,"Project")}function Rt(a){var l=a,{organization:t,id:e,storage:r,visibility:n,createdAt:o,updatedAt:i}=l,s=nt(l,["organization","id","storage","visibility","createdAt","updatedAt"]);return $(ae(re({},s),{_type:"json"}),ie,"ProjectJson")}function Ta(t){let e=bi(t.sources.flatMap(n=>n.tables),n=>`${n.schema}.${n.table}`),r=bi(t.sources.flatMap(n=>n.types||[]),n=>`${n.schema}.${n.name}`);return $({nbSources:t.sources.length,nbTables:Object.keys(e).length,nbColumns:Object.values(e).map(n=>Math.max(...n.map(o=>o.columns.length))).reduce((n,o)=>n+o,0),nbRelations:t.sources.reduce((n,o)=>n+o.relations.length,0),nbTypes:Object.keys(r).length,nbComments:t.sources.flatMap(n=>n.tables.flatMap(o=>[o.comment].concat(o.columns.map(i=>i.comment)).filter(i=>!!i))).length,nbLayouts:Object.keys(t.layouts).length,nbNotes:Object.keys(t.notes||{}).length,nbMemos:Object.values(t.layouts).flatMap(n=>n.memos||[]).length},ba,"ProjectStats")}var Vn=c.object({schema:ar.nullable(),table:zn,rows:c.number(),sample_values:c.record(Ei)}).strict(),Zn=c.object({schema:ar.nullable(),table:zn,column:lt,type:vi,rows:c.number(),nulls:c.number(),cardinality:c.number(),common_values:c.object({value:Ei,count:c.number()}).array()}).strict();var Jd=c.record(c.union([c.string(),c.number(),c.boolean(),c.null()])),Sa=c.object({name:c.string(),details:Jd.optional(),organization:It.optional(),project:ct.optional()}).strict();var qd=c.object({id:Oe,position:fa,size:rn,seeds:hi}).strict(),Wd=c.string(),Vd=c.object({key:c.string(),ctrl:c.boolean(),shift:c.boolean(),alt:c.boolean(),target:c.object({id:c.string().nullable(),class:c.string().nullable(),tag:c.string().nullable()}).strict().nullable(),onInput:c.boolean(),preventDefault:c.boolean()}).strict(),Zd=c.object({kind:c.literal("Click"),id:Oe}).strict(),Kd=c.object({kind:c.literal("MouseDown"),id:Oe}).strict(),Xd=c.object({kind:c.literal("Focus"),id:Oe}).strict(),Qd=c.object({kind:c.literal("Blur"),id:Oe}).strict(),ep=c.object({kind:c.literal("ScrollTo"),id:Oe,position:Gn}).strict(),tp=c.object({kind:c.literal("Fullscreen"),id:Oe.optional()}).strict(),rp=c.object({kind:c.literal("SetMeta"),title:c.string().nullable(),description:c.string().nullable(),canonical:c.string().nullable(),html:c.string().nullable(),body:c.string().nullable()}).strict(),np=c.object({kind:c.literal("AutofocusWithin"),id:Oe}).strict(),op=c.object({kind:c.literal("Toast"),level:he,message:c.string()}).strict(),ip=c.object({kind:c.literal("GetProject"),organization:It,project:ct,token:ga.nullable()}).strict(),sp=c.object({kind:c.literal("CreateProjectTmp"),project:Ae}).strict(),ap=c.object({kind:c.literal("UpdateProjectTmp"),project:Ae}).strict(),cp=c.object({kind:c.literal("CreateProject"),organization:It,storage:A,project:Ae}).strict(),lp=c.object({kind:c.literal("UpdateProject"),project:Ae}).strict(),up=c.object({kind:c.literal("MoveProjectTo"),project:Ae,storage:A}).strict(),dp=c.object({kind:c.literal("DeleteProject"),project:Ea,redirect:c.string().nullable()}).strict(),pp=c.object({kind:c.literal("ProjectDirty"),dirty:c.boolean()}).strict(),fp=c.object({kind:c.literal("DownloadFile"),filename:da,content:pa}).strict(),mp=c.object({kind:c.literal("GetLocalFile"),sourceKind:Ti,file:mi}).strict(),hp=c.object({kind:c.literal("GetTableStats"),source:cr,database:fi,table:De}).strict(),gp=c.object({kind:c.literal("GetColumnStats"),source:cr,database:fi,column:Bn}).strict(),_p=c.object({kind:c.literal("ObserveSizes"),ids:Oe.array()}).strict(),yp=c.object({kind:c.literal("ListenKeys"),keys:c.record(Wd,Vd.array())}).strict(),bp=c.object({kind:c.literal("Confetti"),id:Oe}).strict(),vp=c.object({kind:c.literal("ConfettiPride")}).strict(),Ep=c.object({kind:c.literal("Fireworks")}).strict(),Tp=c.object({kind:c.literal("Track"),event:Sa}).strict(),xa=c.discriminatedUnion("kind",[Zd,Kd,Xd,Qd,ep,tp,rp,np,op,ip,sp,ap,cp,lp,up,dp,pp,fp,mp,hp,gp,_p,yp,bp,vp,Ep,Tp]),Sp=c.object({kind:c.literal("GotSizes"),sizes:qd.array()}).strict(),xp=c.object({kind:c.literal("GotProject"),project:Ae.optional()}).strict(),kp=c.object({kind:c.literal("ProjectDeleted"),id:ct}).strict(),jp=c.object({kind:c.literal("GotLocalFile"),sourceKind:Ti,file:mi,content:c.string()}).strict(),Pp=c.object({kind:c.literal("GotTableStats"),source:cr,stats:Vn}).strict(),wp=c.object({kind:c.literal("GotColumnStats"),source:cr,stats:Zn}).strict(),Ip=c.object({kind:c.literal("GotHotkey"),id:c.string()}).strict(),Rp=c.object({kind:c.literal("GotKeyHold"),key:c.string(),start:c.boolean()}).strict(),Np=c.object({kind:c.literal("GotToast"),level:he,message:c.string()}).strict(),Cp=c.object({kind:c.literal("GotTableShow"),id:De,position:or.optional()}).strict(),Op=c.object({kind:c.literal("GotTableHide"),id:De}).strict(),Dp=c.object({kind:c.literal("GotTableToggleColumns"),id:De}).strict(),Ap=c.object({kind:c.literal("GotTablePosition"),id:De,position:or}).strict(),Mp=c.object({kind:c.literal("GotTableMove"),id:De,delta:hi}).strict(),Gp=c.object({kind:c.literal("GotTableSelect"),id:De}).strict(),Lp=c.object({kind:c.literal("GotTableColor"),id:De,color:nn}).strict(),Up=c.object({kind:c.literal("GotColumnShow"),ref:Hn}).strict(),Bp=c.object({kind:c.literal("GotColumnHide"),ref:Hn}).strict(),$p=c.object({kind:c.literal("GotColumnMove"),ref:Hn,index:c.number()}).strict(),Fp=c.object({kind:c.literal("GotFitToScreen")}).strict(),zp=c.object({kind:c.literal("Error"),message:c.string()}).strict(),ka=c.discriminatedUnion("kind",[Sp,xp,kp,jp,Pp,wp,Ip,Rp,Np,Cp,Op,Dp,Ap,Mp,Gp,Lp,Up,Bp,$p,Fp,zp]);function dt(t){return t instanceof Error?t.message:typeof t=="string"?t:typeof t=="object"&&t.json&&typeof t.json.message=="string"?t.json.message:typeof t=="object"&&t&&typeof t.statusCode=="number"&&typeof t.message=="string"?t.message:JSON.stringify(t)}var Cr=class{constructor(e,r){this.elm=e;this.logger=r;this.callbacks={Click:[],MouseDown:[],Focus:[],Blur:[],ScrollTo:[],Fullscreen:[],SetMeta:[],AutofocusWithin:[],Toast:[],GetProject:[],CreateProjectTmp:[],UpdateProjectTmp:[],CreateProject:[],UpdateProject:[],MoveProjectTo:[],DeleteProject:[],ProjectDirty:[],DownloadFile:[],GetLocalFile:[],GetTableStats:[],GetColumnStats:[],ObserveSizes:[],ListenKeys:[],Confetti:[],ConfettiPride:[],Fireworks:[],Track:[]};this.on=(e,r)=>{this.callbacks[e].push(r)};this.noListeners=()=>Object.keys(this.callbacks).filter(e=>this.callbacks[e].length===0);this.updateSizes=e=>this.send({kind:"GotSizes",sizes:e});this.gotProject=e=>{window.azimutt.project=e,e?this.send({kind:"GotProject",project:e}):this.send({kind:"GotProject"})};this.dropProject=e=>this.send({kind:"ProjectDeleted",id:e});this.gotLocalFile=(e,r)=>this.send({kind:"GotLocalFile",sourceKind:e.sourceKind,file:e.file,content:r});this.gotTableStats=(e,r)=>this.send({kind:"GotTableStats",source:e,stats:r});this.gotColumnStats=(e,r)=>this.send({kind:"GotColumnStats",source:e,stats:r});this.gotHotkey=e=>this.send({kind:"GotHotkey",id:e.id});this.gotKeyHold=(e,r)=>this.send({kind:"GotKeyHold",key:e,start:r});this.toast=(e,r)=>this.send({kind:"GotToast",level:e,message:r});this.showTable=(e,r)=>this.send({kind:"GotTableShow",id:e,position:r});this.hideTable=e=>this.send({kind:"GotTableHide",id:e});this.toggleTableColumns=e=>this.send({kind:"GotTableToggleColumns",id:e});this.setTablePosition=(e,r)=>this.send({kind:"GotTablePosition",id:e,position:r});this.moveTable=(e,r)=>this.send({kind:"GotTableMove",id:e,delta:r});this.selectTable=e=>this.send({kind:"GotTableSelect",id:e});this.setTableColor=(e,r)=>this.send({kind:"GotTableColor",id:e,color:r});this.showColumn=e=>this.send({kind:"GotColumnShow",ref:e});this.hideColumn=e=>this.send({kind:"GotColumnHide",ref:e});this.moveColumn=(e,r)=>this.send({kind:"GotColumnMove",ref:e,index:r});this.fitToScreen=()=>this.send({kind:"GotFitToScreen"});var n;(n=this.elm.ports)==null||n.elmToJs.subscribe(o=>{this.logger.debug("ElmMsg",o);try{let i=$(o,xa,`ElmMsg[${o.kind}]`);setTimeout(()=>{let s=this.callbacks[i.kind];s.length>0?s.map(a=>a(i)):r.error(`Message "${i.kind}" not handled`,i)},100)}catch(i){this.toast(he.enum.error,dt(i))}})}static init(e,r){return new Cr(window.Elm.Main.init({flags:e}),r)}send(e){var r;this.logger.debug("JsMsg",e);try{let n=$(e,ka,`JsMsg[${e.kind}]`);(r=this.elm.ports)==null||r.jsToElm.send(n)}catch(n){this.toast(he.enum.error,dt(n))}}};var Kn=class{constructor(e,r,n=void 0){this.app=e;this.logger=r;this.project=n;this.getAllTables=()=>{var r,n,o;let e=(((n=(r=this.project)==null?void 0:r.settings)==null?void 0:n.removedTables)||"").split(",").map(i=>i.trim()).filter(i=>i.length>0);return((o=this.project)==null?void 0:o.sources.filter(i=>i.enabled!==!1).flatMap(i=>i.tables).filter(i=>!e.find(s=>i.table===s||new RegExp(s).test(i.table))))||[]};this.getAllRelations=()=>{var e;return((e=this.project)==null?void 0:e.sources.filter(r=>r.enabled!==!1).flatMap(r=>r.relations))||[]};this.getVisibleTables=()=>{var r,n;let e=this.getAllTables().reduce((o,i)=>ae(re({},o),{[`${i.schema}.${i.table}`]:i}),{});return(n=this.project)==null?void 0:n.layouts[(r=this.project)==null?void 0:r.usedLayout].tables.map(o=>e[o.id]).filter(o=>o!==void 0)};this.showTable=(e,r,n)=>this.app.showTable(e,typeof r=="number"&&typeof n=="number"?{left:r,top:n}:void 0);this.hideTable=e=>this.app.hideTable(e);this.toggleTableColumns=e=>this.app.toggleTableColumns(e);this.moveTableTo=(e,r,n)=>this.app.setTablePosition(e,{left:r,top:n});this.moveTable=(e,r,n)=>this.app.moveTable(e,{dx:r,dy:n});this.selectTable=e=>this.app.selectTable(e);this.setTableColor=(e,r)=>this.app.setTableColor(e,r);this.showColumn=e=>this.app.showColumn(e);this.hideColumn=e=>this.app.hideColumn(e);this.moveColumn=(e,r)=>this.app.moveColumn(e,r);this.fitToScreen=()=>this.app.fitToScreen();this.help=()=>this.logger.info(`Hi! Welcome in the hackable world! \u{1F4BB}\uFE0F\u{1F913}
We are just trying out this, so if you use it and it's helpful, please let us know. Also, if you need more feature like this, don't hesitate to ask.

Here are a few tips:
 - \`tableId\` is the "schema.table" of a table, but if schema is "public", you can omit it. Basically, what you see in table header.
 - \`columnRef\` is similar to \`tableId\` but with the column name appended. For example "users.id" or "audit.logs.time".

\u26A0\uFE0F This is not a stable interface, just a toy to experiment. If you start using it heavily, let us know so we can define something more stable.`)}};var xe=c.enum(["dev","staging","prod"]);function ja(){return window.location.hostname.endsWith("localhost")?xe.enum.dev:window.location.hostname.endsWith("azimutt.dev")?xe.enum.staging:xe.enum.prod}var Xn=class{error(...e){throw"Not implemented"}warn(...e){throw"Not implemented"}info(...e){throw"Not implemented"}log(...e){throw"Not implemented"}debug(...e){throw"Not implemented"}disableDebug(){return new ji(this,Or.enum.debug)}},Qn=class extends Xn{constructor(r){super();this.env=r}error(...r){console.error(...r)}warn(...r){console.warn(...r)}info(...r){console.info(...r)}log(...r){console.log(...r)}debug(...r){this.env!==xe.enum.prod&&console.debug(...r)}},Or=c.enum(["error","warn","info","log","debug"]),ji=class extends Xn{constructor(r,n){super();this.underlying=r;this.disabled=n}error(...r){this.disabled!==Or.enum.error&&this.underlying.error(...r)}warn(...r){this.disabled!==Or.enum.warn&&this.underlying.warn(...r)}info(...r){this.disabled!==Or.enum.info&&this.underlying.info(...r)}log(...r){this.disabled!==Or.enum.log&&this.underlying.log(...r)}debug(...r){this.disabled!==Or.enum.debug&&this.underlying.debug(...r)}};function Pa(){String.prototype.includes||(String.prototype.includes=function(e,r){if(e instanceof RegExp)throw TypeError("first argument must not be a RegExp");return r===void 0&&(r=0),this.indexOf(e,r)!==-1}),crypto.randomUUID||(crypto.randomUUID=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))});let t=console.log;console.log=(...e)=>{let r=e[0];typeof r=="string"&&r.startsWith("[elm-time")?r.startsWith("[elm-time-end]")?console.timeEnd(r.slice(15,-4)):console.time(r.slice(11,-4)):t(...e)}}var Pi={};(function t(e,r,n,o){var i=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL);function s(){}function a(m){var d=r.exports.Promise,D=d!==void 0?d:e.Promise;return typeof D=="function"?new D(m):(m(s,s),null)}var l=function(){var m=Math.floor(16.666666666666668),d,D,N={},L=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(d=function(M){var C=Math.random();return N[C]=requestAnimationFrame(function O(H){L===H||L+m-1<H?(L=H,delete N[C],M()):N[C]=requestAnimationFrame(O)}),C},D=function(M){N[M]&&cancelAnimationFrame(N[M])}):(d=function(M){return setTimeout(M,m)},D=function(M){return clearTimeout(M)}),{frame:d,cancel:D}}(),u=function(){var m,d,D={};function N(L){function M(C,O){L.postMessage({options:C||{},callback:O})}L.init=function(O){var H=O.transferControlToOffscreen();L.postMessage({canvas:H},[H])},L.fire=function(O,H,rt){if(d)return M(O,null),d;var U=Math.random().toString(36).slice(2);return d=a(function(Ie){function Ee(B){B.data.callback===U&&(delete D[U],L.removeEventListener("message",Ee),d=null,rt(),Ie())}L.addEventListener("message",Ee),M(O,U),D[U]=Ee.bind(null,{data:{callback:U}})}),d},L.reset=function(){L.postMessage({reset:!0});for(var O in D)D[O](),delete D[O]}}return function(){if(m)return m;if(!n&&i){var L=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{m=new Worker(URL.createObjectURL(new Blob([L])))}catch(M){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",M),null}N(m)}return m}}(),p={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function h(m,d){return d?d(m):m}function I(m){return m!=null}function b(m,d,D){return h(m&&I(m[d])?m[d]:p[d],D)}function we(m){return m<0?0:Math.floor(m)}function ri(m,d){return Math.floor(Math.random()*(d-m))+m}function Er(m){return parseInt(m,16)}function ni(m){return m.map(Fl)}function Fl(m){var d=String(m).replace(/[^0-9a-f]/gi,"");return d.length<6&&(d=d[0]+d[0]+d[1]+d[1]+d[2]+d[2]),{r:Er(d.substring(0,2)),g:Er(d.substring(2,4)),b:Er(d.substring(4,6))}}function zl(m){var d=b(m,"origin",Object);return d.x=b(d,"x",Number),d.y=b(d,"y",Number),d}function Hl(m){m.width=document.documentElement.clientWidth,m.height=document.documentElement.clientHeight}function Yl(m){var d=m.getBoundingClientRect();m.width=d.width,m.height=d.height}function Jl(m){var d=document.createElement("canvas");return d.style.position="fixed",d.style.top="0px",d.style.left="0px",d.style.pointerEvents="none",d.style.zIndex=m,d}function ql(m,d,D,N,L,M,C,O,H){m.save(),m.translate(d,D),m.rotate(M),m.scale(N,L),m.arc(0,0,1,C,O,H),m.restore()}function Wl(m){var d=m.angle*(Math.PI/180),D=m.spread*(Math.PI/180);return{x:m.x,y:m.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:m.startVelocity*.5+Math.random()*m.startVelocity,angle2D:-d+(.5*D-Math.random()*D),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:m.color,shape:m.shape,tick:0,totalTicks:m.ticks,decay:m.decay,drift:m.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:m.gravity*3,ovalScalar:.6,scalar:m.scalar}}function Vl(m,d){d.x+=Math.cos(d.angle2D)*d.velocity+d.drift,d.y+=Math.sin(d.angle2D)*d.velocity+d.gravity,d.wobble+=d.wobbleSpeed,d.velocity*=d.decay,d.tiltAngle+=.1,d.tiltSin=Math.sin(d.tiltAngle),d.tiltCos=Math.cos(d.tiltAngle),d.random=Math.random()+2,d.wobbleX=d.x+10*d.scalar*Math.cos(d.wobble),d.wobbleY=d.y+10*d.scalar*Math.sin(d.wobble);var D=d.tick++/d.totalTicks,N=d.x+d.random*d.tiltCos,L=d.y+d.random*d.tiltSin,M=d.wobbleX+d.random*d.tiltCos,C=d.wobbleY+d.random*d.tiltSin;if(m.fillStyle="rgba("+d.color.r+", "+d.color.g+", "+d.color.b+", "+(1-D)+")",m.beginPath(),d.shape==="circle")m.ellipse?m.ellipse(d.x,d.y,Math.abs(M-N)*d.ovalScalar,Math.abs(C-L)*d.ovalScalar,Math.PI/10*d.wobble,0,2*Math.PI):ql(m,d.x,d.y,Math.abs(M-N)*d.ovalScalar,Math.abs(C-L)*d.ovalScalar,Math.PI/10*d.wobble,0,2*Math.PI);else if(d.shape==="star")for(var O=Math.PI/2*3,H=4*d.scalar,rt=8*d.scalar,U=d.x,Ie=d.y,Ee=5,B=Math.PI/Ee;Ee--;)U=d.x+Math.cos(O)*rt,Ie=d.y+Math.sin(O)*rt,m.lineTo(U,Ie),O+=B,U=d.x+Math.cos(O)*H,Ie=d.y+Math.sin(O)*H,m.lineTo(U,Ie),O+=B;else m.moveTo(Math.floor(d.x),Math.floor(d.y)),m.lineTo(Math.floor(d.wobbleX),Math.floor(L)),m.lineTo(Math.floor(M),Math.floor(C)),m.lineTo(Math.floor(N),Math.floor(d.wobbleY));return m.closePath(),m.fill(),d.tick<d.totalTicks}function Zl(m,d,D,N,L){var M=d.slice(),C=m.getContext("2d"),O,H,rt=a(function(U){function Ie(){O=H=null,C.clearRect(0,0,N.width,N.height),L(),U()}function Ee(){n&&!(N.width===o.width&&N.height===o.height)&&(N.width=m.width=o.width,N.height=m.height=o.height),!N.width&&!N.height&&(D(m),N.width=m.width,N.height=m.height),C.clearRect(0,0,N.width,N.height),M=M.filter(function(B){return Vl(C,B)}),M.length?O=l.frame(Ee):Ie()}O=l.frame(Ee),H=Ie});return{addFettis:function(U){return M=M.concat(U),rt},canvas:m,promise:rt,reset:function(){O&&l.cancel(O),H&&H()}}}function qs(m,d){var D=!m,N=!!b(d||{},"resize"),L=b(d,"disableForReducedMotion",Boolean),M=i&&!!b(d||{},"useWorker"),C=M?u():null,O=D?Hl:Yl,H=m&&C?!!m.__confetti_initialized:!1,rt=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,U;function Ie(B,ii,si){for(var Tr=b(B,"particleCount",we),xn=b(B,"angle",Number),kn=b(B,"spread",Number),Yt=b(B,"startVelocity",Number),Kl=b(B,"decay",Number),Xl=b(B,"gravity",Number),Ql=b(B,"drift",Number),Vs=b(B,"colors",ni),eu=b(B,"ticks",Number),Zs=b(B,"shapes"),tu=b(B,"scalar"),Ks=zl(B),Xs=Tr,ai=[],ru=m.width*Ks.x,nu=m.height*Ks.y;Xs--;)ai.push(Wl({x:ru,y:nu,angle:xn,spread:kn,startVelocity:Yt,color:Vs[Xs%Vs.length],shape:Zs[ri(0,Zs.length)],ticks:eu,decay:Kl,gravity:Xl,drift:Ql,scalar:tu}));return U?U.addFettis(ai):(U=Zl(m,ai,O,ii,si),U.promise)}function Ee(B){var ii=L||b(B,"disableForReducedMotion",Boolean),si=b(B,"zIndex",Number);if(ii&&rt)return a(function(Yt){Yt()});D&&U?m=U.canvas:D&&!m&&(m=Jl(si),document.body.appendChild(m)),N&&!H&&O(m);var Tr={width:m.width,height:m.height};C&&!H&&C.init(m),H=!0,C&&(m.__confetti_initialized=!0);function xn(){if(C){var Yt={getBoundingClientRect:function(){if(!D)return m.getBoundingClientRect()}};O(Yt),C.postMessage({resize:{width:Yt.width,height:Yt.height}});return}Tr.width=Tr.height=null}function kn(){U=null,N&&e.removeEventListener("resize",xn),D&&m&&(document.body.removeChild(m),m=null,H=!1)}return N&&e.addEventListener("resize",xn,!1),C?C.fire(B,Tr,kn):Ie(B,Tr,kn)}return Ee.reset=function(){C&&C.reset(),U&&U.reset()},Ee}var oi;function Ws(){return oi||(oi=qs(null,{useWorker:!0,resize:!0})),oi}r.exports=function(){return Ws().apply(this,arguments)},r.exports.reset=function(){Ws().reset()},r.exports.create=qs})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Pi,!1);var Dr=Pi.exports,oy=Pi.exports.create;var te={getPlatform(){return window.navigator.userAgent.indexOf("Mac OS X")!==-1?tn.enum.mac:tn.enum.pc},randomId(){return crypto.randomUUID()},getElementById(t){let e=document.getElementById(t);if(e)return e;throw new Error(`Can't find element with id '${t}'`)},maybeElementById(t){let e=document.getElementById(t);return e?[e]:[]},getParents(t){let e=[t],r=t.parentElement;for(;r;)e.push(r),r=r.parentElement;return e},findParent(t,e){return e(t)?t:t.parentElement?te.findParent(t.parentElement,e):void 0},fullscreen(t){let e=t?te.getElementById(t):document.body;return(e.requestFullscreen?e.requestFullscreen():Promise.reject(new Error("requestFullscreen not available"))).catch(n=>{var o;return(o=window.open(window.location.href,"_blank"))==null?void 0:o.focus()})},downloadFile(t,e){let r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),r.setAttribute("download",t),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)},launchConfetti(t){let e=document.getElementById(t);if(!e){console.warn(`Didn't found ${t} to launch confetti`);return}let r=e.getBoundingClientRect(),n=(r.left+r.right)/2,o=50+(r.top+r.bottom)/2;Dr({particleCount:100,spread:70,origin:{x:n/window.innerWidth,y:o/window.innerHeight},disableForReducedMotion:!0})},launchConfettiPride(){let t=Date.now()+3e3,e=["#28BEC9","#0C4F9C"];(function r(){Dr({particleCount:2,angle:60,spread:55,origin:{x:0},colors:e,zIndex:2e4}),Dr({particleCount:2,angle:120,spread:55,origin:{x:1},colors:e,zIndex:2e4}),Date.now()<t&&requestAnimationFrame(r)})()},launchFireworks(){let e=Date.now()+3e3,r={startVelocity:30,spread:360,ticks:60,zIndex:10001},n=(i,s)=>Math.random()*(s-i)+i,o=setInterval(()=>{let i=e-Date.now();if(i<=0)return clearInterval(o);let s=100*(i/3e3);Dr(Object.assign({},r,{particleCount:s,origin:{x:n(.1,.3),y:Math.random()-.2}})),Dr(Object.assign({},r,{particleCount:s,origin:{x:n(.7,.9),y:Math.random()-.2}}))},250)}};var pt=class{constructor(e,r){this.db=e;this.logger=r;this.kind="indexedDb";this.loadProject=e=>(this.logger.debug(`indexedDb.loadProject(${e})`),this.openStore("readonly").then(r=>this.getProject(r,e)).then(r=>r||Promise.reject("Not found")));this.createProject=(e,r)=>(this.logger.debug(`indexedDb.createProject(${e})`,r),this.openStore("readwrite").then(n=>this.getProject(n,e).then(o=>o?Promise.reject(`Project ${e} already exists in ${this.kind}`):wi(n.add(ae(re({},$(r,ie,"ProjectJson")),{id:e}))).then(i=>r))));this.updateProject=(e,r)=>(this.logger.debug(`indexedDb.updateProject(${e})`,r),this.openStore("readwrite").then(n=>this.getProject(n,e).then(o=>o?wi(n.put(ae(re({},$(r,ie,"ProjectJson")),{id:e}))).then(i=>r):Promise.reject(`Project ${e} doesn't exists in ${this.kind}`))));this.deleteProject=e=>(this.logger.debug(`indexedDb.deleteProject(${e})`),this.openStore("readwrite").then(r=>wi(r.delete(e))))}static init(e){return window.indexedDB?new Promise((r,n)=>{let o=window.indexedDB.open(pt.databaseName,pt.databaseVersion);o.onerror=i=>n("Unable to open indexedDB"),o.onsuccess=i=>r(new pt(i.target.result,e)),o.onupgradeneeded=i=>{let s=i.target.result;s.objectStoreNames.contains(pt.dbProjects)||s.createObjectStore(pt.dbProjects,{keyPath:"id"})}}):Promise.reject("indexedDB not available")}openStore(e){return new Promise(r=>r(this.db.transaction(pt.dbProjects,e).objectStore(pt.dbProjects)))}getProject(e,r){return new Promise((n,o)=>{e.get(r).onsuccess=i=>{try{n($(Hp(i.target.result),ie.optional(),"ProjectJson?"))}catch(s){o(s)}},e.onerror=i=>o(`Unable to load project: ${i}`)})}},lr=pt;lr.databaseName="azimutt",lr.databaseVersion=1,lr.dbProjects="projects";function Hp(t){if(typeof t=="object"&&t!==null){let e=t,{id:r}=e;return nt(e,["id"])}else return t}function wi(t){return new Promise((e,r)=>{t.onerror=n=>r(t.error),t.onsuccess=n=>e(t.result)})}function Nt(t){try{return JSON.parse(t)}catch(e){let r=(t==null?void 0:t.length)>20?t.slice(0,20)+"...":t;throw`${JSON.stringify(r)} is not a valid JSON (${dt(e)})`}}var Ar=class{constructor(e){this.logger=e;this.kind="localStorage";this.prefix="project-";this.loadProject=e=>(this.logger.debug(`localStorage.loadProject(${e})`),Promise.resolve(this.getProject(this.idToKey(e))).then(r=>r||Promise.reject("Not found")));this.createProject=(e,r)=>{this.logger.debug(`localStorage.createProject(${e})`,r);let n=this.idToKey(e);return window.localStorage.getItem(n)===null?this.setProject(n,r):Promise.reject(`Project ${e} already exists in ${this.kind}`)};this.updateProject=(e,r)=>{this.logger.debug(`localStorage.updateProject(${e})`,r);let n=this.idToKey(e);return window.localStorage.getItem(n)===null?Promise.reject(`Project ${e} doesn't exists in ${this.kind}`):this.setProject(n,r)};this.deleteProject=e=>(this.logger.debug(`localStorage.deleteProject(${e})`),window.localStorage.removeItem(this.idToKey(e)),Promise.resolve());this.idToKey=e=>this.prefix+e;this.getProject=e=>{let r=window.localStorage.getItem(e);if(r===null)return Promise.reject(`Nothing in localStorage ${JSON.stringify(e)}`);try{return Promise.resolve($(Nt(r),ie,"ProjectJson"))}catch(n){return Promise.reject(`Invalid JSON in localStorage ${JSON.stringify(e)}: ${dt(n)}`)}};this.setProject=(e,r)=>{try{return window.localStorage.setItem(e,Un(r,ie,"ProjectJson")),Promise.resolve(r)}catch(n){return Promise.reject(n)}}}static init(e){return window.localStorage?Promise.resolve(new Ar(e)):Promise.reject("localStorage not available")}};var eo=class{constructor(e,r={}){this.logger=e;this.projects=r;this.kind="inMemory";this.loadProject=e=>(this.logger.debug(`inMemory.loadProject(${e})`),this.projects[e]?Promise.resolve($(this.projects[e],ie,"ProjectJson")):Promise.reject("Not found"));this.createProject=(e,r)=>(this.logger.debug(`inMemory.createProject(${e})`,r),this.projects[e]?Promise.reject(`Project ${e} already exists in ${this.kind}`):(this.projects[e]=$(r,ie,"ProjectJson"),Promise.resolve(r)));this.updateProject=(e,r)=>(this.logger.debug(`inMemory.updateProject(${e})`,r),this.projects[e]?(this.projects[e]=$(r,ie,"ProjectJson"),Promise.resolve(r)):Promise.reject(`Project ${e} doesn't exists in ${this.kind}`));this.deleteProject=e=>(this.logger.debug(`inMemory.deleteProject(${e})`),delete this.projects[e],Promise.resolve())}};function wa(t){return t.reduce((e,r)=>e.then(n=>r.then(o=>n.concat([o])).catch(o=>n)),Promise.resolve([]))}var to=class{constructor(e){this.logger=e;this.kind="manager";this.getProject=e=>(this.logger.debug(`storage.getProject(${e})`),this.indexedDb.then(r=>r.loadProject(e)).catch(r=>r==="Not found"?this.localStorage.then(n=>n.loadProject(e)):Promise.reject(r)).catch(r=>r==="Not found"?this.inMemory.loadProject(e):Promise.reject(r)).catch(r=>Promise.reject(r==="Not found"?`Not found project ${e}`:r)));this.createProject=(e,r)=>(this.logger.debug(`storage.createProject(${e})`,r),this.indexedDb.catch(n=>this.localStorage).catch(n=>this.inMemory).then(n=>n.createProject(e,r)).then(n=>{}));this.updateProject=(e,r)=>(this.logger.debug(`storage.updateProject(${e})`,r),this.indexedDb.catch(n=>this.localStorage).catch(n=>this.inMemory).then(n=>n.updateProject(e,r)).then(n=>{}));this.deleteProject=e=>(this.logger.debug(`storage.deleteProject(${e})`),wa([this.indexedDb.then(r=>r.deleteProject(e)),this.localStorage.then(r=>r.deleteProject(e)),this.inMemory.deleteProject(e)]).then(r=>{}));this.indexedDb=lr.init(e.disableDebug()),this.localStorage=Ar.init(e.disableDebug()),this.inMemory=new eo(e.disableDebug())}};var Ia=(t,e,r)=>fetch(t,{credentials:"include"}).then(Ri(e,r)),ro=(t,e,r,n)=>Aa("POST",t,e,r,n),Ra=(t,e)=>Yp("POST",t,e),Na=(t,e,r,n)=>Ma("POST",t,e,r,n),Ca=(t,e,r,n)=>Aa("PUT",t,e,r,n),Oa=(t,e,r,n)=>Ma("PUT",t,e,r,n),Da=t=>fetch(t,{method:"DELETE",credentials:"include"}).then(Ga);function Aa(t,e,r,n,o){return fetch(e,{method:t,credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)}).then(Ri(n,o))}function Yp(t,e,r){return fetch(e,{method:t,credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)}).then(Ga)}function Ma(t,e,r,n,o){return fetch(e,{method:t,credentials:"include",body:r}).then(Ri(n,o))}var Ri=(t,e)=>r=>r.ok?r.text().then(n=>$(Nt(n),t,e)):r.text().then(n=>Promise.reject(Nt(n))),Ga=t=>t.ok?Promise.resolve():t.text().then(e=>Promise.reject(Nt(e)));var bo=du(mc());var yo=class{constructor(e,r){this.env=e;this.logger=r;this.projects={};this.loginUrl=e=>e?`/login/redirect?url=${encodeURIComponent(e)}`:"/login";this.getProject=(e,r,n)=>Jt(this,null,function*(){this.logger.debug(`backend.getProject(${e}, ${r}, ${n})`);let o=yield this.fetchProject(e,r,n);return o.storage===A.enum.remote&&(this.projects[r]=o.content),o});this.fetchProject=(e,r,n)=>{let o=n?`token=${n}&`:"",i=this.withXhrHost(`/api/v1/organizations/${e}/projects/${r}?${o}expand=organization,organization.plan,content`);return Ia(i,hm,"ProjectWithContentResponse").then(bm)};this.createProjectLocal=(e,r)=>{this.logger.debug(`backend.createProjectLocal(${e})`,r);let n=this.withXhrHost(`/api/v1/organizations/${e}/projects?expand=organization,organization.plan`);return ro(n,_o(r,A.enum.local),an,"ProjectResponse").then(cn).then(o=>Si(o)?o:Promise.reject("Expecting a local project"))};this.createProjectRemote=(e,r)=>Jt(this,null,function*(){this.logger.debug(`backend.createProjectRemote(${e})`,r);let n=this.withXhrHost(`/api/v1/organizations/${e}/projects?expand=organization,organization.plan`),o=new FormData;Object.entries(_o(r,A.enum.remote)).filter(([s,a])=>a!=null).map(([s,a])=>o.append(s,typeof a=="string"?a:JSON.stringify(a))),o.append("file",new Blob([hc(r)],{type:"application/json"}),`${r.name}.json`);let i=yield Na(n,o,an,"ProjectResponse").then(cn);return this.projects[i.id]=r,Jn(i)?i:Promise.reject("Expecting a remote project")});this.updateProjectLocal=e=>{var o;if(this.logger.debug(`backend.updateProjectLocal(${(o=e.organization)==null?void 0:o.id}, ${e.id})`,e),!e.organization)return Promise.reject("Expecting an organization to update project");if(e.storage!==A.enum.local)return Promise.reject("Expecting a local project");let r=this.withXhrHost(`/api/v1/organizations/${e.organization.id}/projects/${e.id}?expand=organization,organization.plan`),n=Rt(e);return Ca(r,_o(n,A.enum.local),an,"ProjectResponse").then(cn).then(i=>Si(i)?i:Promise.reject("Expecting a local project"))};this.updateProjectRemote=e=>Jt(this,null,function*(){var l;if(this.logger.debug(`backend.updateProjectRemote(${(l=e.organization)==null?void 0:l.id}, ${e.id})`,e),!e.organization)return Promise.reject("Expecting an organization to update project");if(e.storage!==A.enum.remote)return Promise.reject("Expecting a remote project");let r=this.projects[e.id],n=yield this.fetchProject(e.organization.id,e.id,null).then(u=>Jn(u)?u:Promise.reject("Expecting a remote project")),o=Rt(e);if(n.updatedAt!==e.updatedAt)try{let u=bo.diff(r,o);o=bo.patch(u,n.content)}catch(u){return console.warn("patch failed",u),Promise.reject("already updated by someone else, please reload")}if(!e.organization)return Promise.reject("Expecting an organization to update project");let i=this.withXhrHost(`/api/v1/organizations/${e.organization.id}/projects/${e.id}?expand=organization,organization.plan`),s=new FormData;Object.entries(_o(o,A.enum.remote)).filter(([u,p])=>p!=null).map(([u,p])=>s.append(u,typeof p=="string"?p:JSON.stringify(p))),s.append("file",new Blob([hc(o)],{type:"application/json"}),`${e.organization.id}-${e.name}.json`);let a=yield Oa(i,s,an,"ProjectResponse").then(cn);return this.projects[e.id]=o,Jn(a)?a:Promise.reject("Expecting a remote project")});this.deleteProject=(e,r)=>Jt(this,null,function*(){this.logger.debug(`backend.deleteProject(${e}, ${r})`);let n=this.withXhrHost(`/api/v1/organizations/${e}/projects/${r}`);yield Da(n),delete this.projects[r]});this.getTableStats=(e,r)=>Jt(this,null,function*(){this.logger.debug(`backend.getTableStats(${e}, ${r})`);let{schema:n,table:o}=xi(r),i=this.withXhrHost("/api/v1/analyzer/stats");return ro(i,{url:e,schema:n,table:o},Vn,"TableStats")});this.getColumnStats=(e,r)=>Jt(this,null,function*(){this.logger.debug(`backend.getColumnStats(${e}, ${JSON.stringify(r)})`);let{schema:n,table:o}=xi(r.table),i=this.withXhrHost("/api/v1/analyzer/stats");return ro(i,{url:e,schema:n,table:o,column:r.column},Zn,"ColumnStats")});this.trackEvent=e=>{this.logger.debug(`backend.trackEvent(${JSON.stringify(e)})`);let r=this.withXhrHost("/api/v1/events");Ra(r,e).then(n=>{})}}withXhrHost(e){return this.env==xe.enum.dev?`${e}`:this.env==xe.enum.staging?`https://azimutt.dev${e}`:`https://azimutt.app${e}`}},fm=c.object({nb_sources:c.number(),nb_tables:c.number(),nb_columns:c.number(),nb_relations:c.number(),nb_types:c.number(),nb_comments:c.number(),nb_layouts:c.number(),nb_notes:c.number(),nb_memos:c.number()}).strict(),mm=c.object({id:It,slug:gi,name:c.string(),plan:_i,logo:c.string(),location:c.string().nullable(),description:c.string().nullable(),heroku:Ln.optional()}).strict(),an=fm.extend({organization:mm,id:ct,slug:$n,name:Fn,description:c.string().nullable(),encoding_version:Yn,storage_kind:A,visibility:Nr,created_at:An,updated_at:An,archived_at:An.nullable()}).strict(),hm=an.extend({content:c.string().optional()}).strict();function gm(t){return{nbSources:t.nb_sources,nbTables:t.nb_tables,nbColumns:t.nb_columns,nbRelations:t.nb_relations,nbTypes:t.nb_types,nbComments:t.nb_comments,nbLayouts:t.nb_layouts,nbNotes:t.nb_notes,nbMemos:t.nb_memos}}function _m(t){return{nb_sources:t.nbSources,nb_tables:t.nbTables,nb_columns:t.nbColumns,nb_relations:t.nbRelations,nb_types:t.nbTypes,nb_comments:t.nbComments,nb_layouts:t.nbLayouts,nb_notes:t.nbNotes,nb_memos:t.nbMemos}}function _o(t,e){return re({name:t.name,description:void 0,storage_kind:e,encoding_version:t.version},_m(Ta(t)))}function ym(t){return{id:t.id,slug:t.slug,name:t.name,plan:t.plan,logo:t.logo,location:t.location||void 0,description:t.description||void 0,heroku:t.heroku}}function cn(t){return re({organization:ym(t.organization),id:t.id,slug:t.slug,name:t.name,description:t.description||void 0,encodingVersion:t.encoding_version,storage:t.storage_kind,visibility:t.visibility,createdAt:new Date(t.created_at).getTime(),updatedAt:new Date(t.updated_at).getTime()},gm(t))}function bm(t){let e=cn(t);return e.storage===A.enum.remote?ae(re({},e),{content:vm(t.content)}):e}function hc(t){return Un(t,ie,"ProjectJson")}function vm(t){if(typeof t=="string")return $(Nt(t),ie,"ProjectJson");throw"Missing content in backend response!"}var gc=t=>t.pathname+t.search+t.hash;var _c=Object.prototype.toString;function ln(t){switch(_c.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return se(t,Error)}}function Br(t,e){return _c.call(t)===`[object ${e}]`}function un(t){return Br(t,"ErrorEvent")}function vo(t){return Br(t,"DOMError")}function qi(t){return Br(t,"DOMException")}function le(t){return Br(t,"String")}function $r(t){return t===null||typeof t!="object"&&typeof t!="function"}function Me(t){return Br(t,"Object")}function Fr(t){return typeof Event<"u"&&se(t,Event)}function Wi(t){return typeof Element<"u"&&se(t,Element)}function Vi(t){return Br(t,"RegExp")}function dr(t){return!!(t&&t.then&&typeof t.then=="function")}function Zi(t){return Me(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function dn(t){return typeof t=="number"&&t!==t}function se(t,e){try{return t instanceof e}catch{return!1}}function Eo(t){return t&&t.Math==Math?t:void 0}var W=typeof globalThis=="object"&&Eo(globalThis)||typeof window=="object"&&Eo(window)||typeof self=="object"&&Eo(self)||typeof global=="object"&&Eo(global)||function(){return this}()||{};function mt(){return W}function pr(t,e,r){let n=r||W,o=n.__SENTRY__=n.__SENTRY__||{};return o[t]||(o[t]=e())}var To=mt(),Tm=80;function Ze(t,e={}){try{let r=t,n=5,o=[],i=0,s=0,a=" > ",l=a.length,u,p=Array.isArray(e)?e:e.keyAttrs,h=!Array.isArray(e)&&e.maxStringLength||Tm;for(;r&&i++<n&&(u=Sm(r,p),!(u==="html"||i>1&&s+o.length*l+u.length>=h));)o.push(u),s+=u.length,r=r.parentNode;return o.reverse().join(a)}catch{return"<unknown>"}}function Sm(t,e){let r=t,n=[],o,i,s,a,l;if(!r||!r.tagName)return"";n.push(r.tagName.toLowerCase());let u=e&&e.length?e.filter(h=>r.getAttribute(h)).map(h=>[h,r.getAttribute(h)]):null;if(u&&u.length)u.forEach(h=>{n.push(`[${h[0]}="${h[1]}"]`)});else if(r.id&&n.push(`#${r.id}`),o=r.className,o&&le(o))for(i=o.split(/\s+/),l=0;l<i.length;l++)n.push(`.${i[l]}`);let p=["aria-label","type","name","title","alt"];for(l=0;l<p.length;l++)s=p[l],a=r.getAttribute(s),a&&n.push(`[${s}="${a}"]`);return n.join("")}function Ki(){try{return To.document.location.href}catch{return""}}function Xi(t){return To.document&&To.document.querySelector?To.document.querySelector(t):null}var z=class extends Error{constructor(e,r="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=r}};var xm=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function km(t){return t==="http"||t==="https"}function Ot(t,e=!1){let{host:r,path:n,pass:o,port:i,projectId:s,protocol:a,publicKey:l}=t;return`${a}://${l}${e&&o?`:${o}`:""}@${r}${i?`:${i}`:""}/${n&&`${n}/`}${s}`}function yc(t){let e=xm.exec(t);if(!e)throw new z(`Invalid Sentry Dsn: ${t}`);let[r,n,o="",i,s="",a]=e.slice(1),l="",u=a,p=u.split("/");if(p.length>1&&(l=p.slice(0,-1).join("/"),u=p.pop()),u){let h=u.match(/^\d+/);h&&(u=h[0])}return bc({host:i,pass:o,path:l,projectId:u,port:s,protocol:r,publicKey:n})}function bc(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function jm(t){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return;let{port:e,projectId:r,protocol:n}=t;if(["protocol","publicKey","host","projectId"].forEach(i=>{if(!t[i])throw new z(`Invalid Sentry Dsn: ${i} missing`)}),!r.match(/^\d+$/))throw new z(`Invalid Sentry Dsn: Invalid projectId ${r}`);if(!km(n))throw new z(`Invalid Sentry Dsn: Invalid protocol ${n}`);if(e&&isNaN(parseInt(e,10)))throw new z(`Invalid Sentry Dsn: Invalid port ${e}`);return!0}function So(t){let e=typeof t=="string"?yc(t):bc(t);return jm(e),e}var Pm="Sentry Logger ",zr=["debug","info","warn","error","log","assert","trace"];function xo(t){if(!("console"in W))return t();let e=W.console,r={};zr.forEach(n=>{let o=e[n]&&e[n].__sentry_original__;n in e&&o&&(r[n]=e[n],e[n]=o)});try{return t()}finally{Object.keys(r).forEach(n=>{e[n]=r[n]})}}function vc(){let t=!1,e={enable:()=>{t=!0},disable:()=>{t=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?zr.forEach(r=>{e[r]=(...n)=>{t&&xo(()=>{W.console[r](`${Pm}[${r}]:`,...n)})}}):zr.forEach(r=>{e[r]=()=>{}}),e}var f;typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?f=pr("logger",vc):f=vc();function Dt(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function ko(t,e){if(!Array.isArray(t))return"";let r=[];for(let n=0;n<t.length;n++){let o=t[n];try{r.push(String(o))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function Ec(t,e,r=!1){return le(t)?Vi(e)?e.test(t):le(e)?r?t===e:t.includes(e):!1:!1}function fr(t,e=[],r=!1){return e.some(n=>Ec(t,n,r))}function Z(t,e,r){if(!(e in t))return;let n=t[e],o=r(n);if(typeof o=="function")try{jo(o,n)}catch{}t[e]=o}function Hr(t,e,r){Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}function jo(t,e){let r=e.prototype||{};t.prototype=e.prototype=r,Hr(t,"__sentry_original__",e)}function mr(t){return t.__sentry_original__}function es(t){return Object.keys(t).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`).join("&")}function Po(t){if(ln(t))return{message:t.message,name:t.name,stack:t.stack,...Sc(t)};if(Fr(t)){let e={type:t.type,target:Tc(t.target),currentTarget:Tc(t.currentTarget),...Sc(t)};return typeof CustomEvent<"u"&&se(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function Tc(t){try{return Wi(t)?Ze(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function Sc(t){if(typeof t=="object"&&t!==null){let e={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}function ts(t,e=40){let r=Object.keys(Po(t));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=e)return Dt(r[0],e);for(let n=r.length;n>0;n--){let o=r.slice(0,n).join(", ");if(!(o.length>e))return n===r.length?o:Dt(o,e)}return""}function ge(t){return Qi(t,new Map)}function Qi(t,e){if(Me(t)){let r=e.get(t);if(r!==void 0)return r;let n={};e.set(t,n);for(let o of Object.keys(t))typeof t[o]<"u"&&(n[o]=Qi(t[o],e));return n}if(Array.isArray(t)){let r=e.get(t);if(r!==void 0)return r;let n=[];return e.set(t,n),t.forEach(o=>{n.push(Qi(o,e))}),n}return t}function wo(...t){let e=t.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0)=>{let o=[];for(let i of r.split(`
`).slice(n)){if(i.length>1024)continue;let s=i.replace(/\(error: (.*)\)/,"$1");for(let a of e){let l=a(s);if(l){o.push(l);break}}}return xc(o)}}function ns(t){return Array.isArray(t)?wo(...t):t}function xc(t){if(!t.length)return[];let e=t,r=e[0].function||"",n=e[e.length-1].function||"";return(r.indexOf("captureMessage")!==-1||r.indexOf("captureException")!==-1)&&(e=e.slice(1)),n.indexOf("sentryWrapped")!==-1&&(e=e.slice(0,-1)),e.slice(0,50).map(o=>({...o,filename:o.filename||e[0].filename,function:o.function||"?"})).reverse()}var rs="<anonymous>";function ke(t){try{return!t||typeof t!="function"?rs:t.name||rs}catch{return rs}}var hr=mt();function Io(){if(!("fetch"in hr))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function pn(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function os(){if(!Io())return!1;if(pn(hr.fetch))return!0;let t=!1,e=hr.document;if(e&&typeof e.createElement=="function")try{let r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=pn(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}function is(){let t=hr.chrome,e=t&&t.app&&t.app.runtime,r="history"in hr&&!!hr.history.pushState&&!!hr.history.replaceState;return!e&&r}var F=mt(),fn={},kc={};function wm(t){if(!kc[t])switch(kc[t]=!0,t){case"console":Im();break;case"dom":Lm();break;case"xhr":Om();break;case"fetch":Rm();break;case"history":Dm();break;case"error":Um();break;case"unhandledrejection":Bm();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn("unknown instrumentation type:",t);return}}function V(t,e){fn[t]=fn[t]||[],fn[t].push(e),wm(t)}function Ge(t,e){if(!(!t||!fn[t]))for(let r of fn[t]||[])try{r(e)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${ke(r)}
Error:`,n)}}function Im(){"console"in F&&zr.forEach(function(t){t in F.console&&Z(F.console,t,function(e){return function(...r){Ge("console",{args:r,level:t}),e&&e.apply(F.console,r)}})})}function Rm(){os()&&Z(F,"fetch",function(t){return function(...e){let r={args:e,fetchData:{method:Nm(e),url:Cm(e)},startTimestamp:Date.now()};return Ge("fetch",{...r}),t.apply(F,e).then(n=>(Ge("fetch",{...r,endTimestamp:Date.now(),response:n}),n),n=>{throw Ge("fetch",{...r,endTimestamp:Date.now(),error:n}),n})}})}function Nm(t=[]){return"Request"in F&&se(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function Cm(t=[]){return typeof t[0]=="string"?t[0]:"Request"in F&&se(t[0],Request)?t[0].url:String(t[0])}function Om(){if(!("XMLHttpRequest"in F))return;let t=XMLHttpRequest.prototype;Z(t,"open",function(e){return function(...r){let n=this,o=r[1],i=n.__sentry_xhr__={method:le(r[0])?r[0].toUpperCase():r[0],url:r[1]};le(o)&&i.method==="POST"&&o.match(/sentry_key/)&&(n.__sentry_own_request__=!0);let s=function(){if(n.readyState===4){try{i.status_code=n.status}catch{}Ge("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:n})}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?Z(n,"onreadystatechange",function(a){return function(...l){return s(),a.apply(n,l)}}):n.addEventListener("readystatechange",s),e.apply(n,r)}}),Z(t,"send",function(e){return function(...r){return this.__sentry_xhr__&&r[0]!==void 0&&(this.__sentry_xhr__.body=r[0]),Ge("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),e.apply(this,r)}})}var Ro;function Dm(){if(!is())return;let t=F.onpopstate;F.onpopstate=function(...r){let n=F.location.href,o=Ro;if(Ro=n,Ge("history",{from:o,to:n}),t)try{return t.apply(this,r)}catch{}};function e(r){return function(...n){let o=n.length>2?n[2]:void 0;if(o){let i=Ro,s=String(o);Ro=s,Ge("history",{from:i,to:s})}return r.apply(this,n)}}Z(F.history,"pushState",e),Z(F.history,"replaceState",e)}var Am=1e3,No,Co;function Mm(t,e){if(!t||t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch{}return!1}function Gm(t){if(t.type!=="keypress")return!1;try{let e=t.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch{}return!0}function jc(t,e=!1){return r=>{if(!r||Co===r||Gm(r))return;let n=r.type==="keypress"?"input":r.type;No===void 0?(t({event:r,name:n,global:e}),Co=r):Mm(Co,r)&&(t({event:r,name:n,global:e}),Co=r),clearTimeout(No),No=F.setTimeout(()=>{No=void 0},Am)}}function Lm(){if(!("document"in F))return;let t=Ge.bind(null,"dom"),e=jc(t,!0);F.document.addEventListener("click",e,!1),F.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{let n=F[r]&&F[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Z(n,"addEventListener",function(o){return function(i,s,a){if(i==="click"||i=="keypress")try{let l=this,u=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},p=u[i]=u[i]||{refCount:0};if(!p.handler){let h=jc(t);p.handler=h,o.call(this,i,h,a)}p.refCount++}catch{}return o.call(this,i,s,a)}}),Z(n,"removeEventListener",function(o){return function(i,s,a){if(i==="click"||i=="keypress")try{let l=this,u=l.__sentry_instrumentation_handlers__||{},p=u[i];p&&(p.refCount--,p.refCount<=0&&(o.call(this,i,p.handler,a),p.handler=void 0,delete u[i]),Object.keys(u).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return o.call(this,i,s,a)}}))})}var ss=null;function Um(){ss=F.onerror,F.onerror=function(t,e,r,n,o){return Ge("error",{column:n,error:o,line:r,msg:t,url:e}),ss?ss.apply(this,arguments):!1}}var as=null;function Bm(){as=F.onunhandledrejection,F.onunhandledrejection=function(t){return Ge("unhandledrejection",t),as?as.apply(this,arguments):!0}}function Pc(){let t=typeof WeakSet=="function",e=t?new WeakSet:[];function r(o){if(t)return e.has(o)?!0:(e.add(o),!1);for(let i=0;i<e.length;i++)if(e[i]===o)return!0;return e.push(o),!1}function n(o){if(t)e.delete(o);else for(let i=0;i<e.length;i++)if(e[i]===o){e.splice(i,1);break}}return[r,n]}function _e(){let t=W,e=t.crypto||t.msCrypto;if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");let r=e&&e.getRandomValues?()=>e.getRandomValues(new Uint8Array(1))[0]:()=>Math.random()*16;return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function wc(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function Ke(t){let{message:e,event_id:r}=t;if(e)return e;let n=wc(t);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function Yr(t,e,r){let n=t.exception=t.exception||{},o=n.values=n.values||[],i=o[0]=o[0]||{};i.value||(i.value=e||""),i.type||(i.type=r||"Error")}function ht(t,e){let r=wc(t);if(!r)return;let n={type:"generic",handled:!0},o=r.mechanism;if(r.mechanism={...n,...o,...e},e&&"data"in e){let i={...o&&o.data,...e.data};r.mechanism.data=i}}function Oo(t){if(t&&t.__sentry_captured__)return!0;try{Hr(t,"__sentry_captured__",!0)}catch{}return!1}function mn(t){return Array.isArray(t)?t:[t]}function cs(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function ls(){return"npm"}function gr(){return!cs()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Le(t,e){return t.require(e)}function us(t){let e;try{e=Le(module,t)}catch{}try{let{cwd:r}=Le(module,"process");e=Le(module,`${r()}/node_modules/${t}`)}catch{}return e}function Ue(t,e=1/0,r=1/0){try{return Do("",t,e,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function Ao(t,e=3,r=100*1024){let n=Ue(t,e);return Hm(n)>r?Ao(t,e-1,r):n}function Do(t,e,r=1/0,n=1/0,o=Pc()){let[i,s]=o;if(e===null||["number","boolean","string"].includes(typeof e)&&!dn(e))return e;let a=$m(t,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;let l=r;if(typeof e.__sentry_override_normalization_depth__=="number"&&(l=e.__sentry_override_normalization_depth__),l===0)return a.replace("object ","");if(i(e))return"[Circular ~]";let u=e;if(u&&typeof u.toJSON=="function")try{let b=u.toJSON();return Do("",b,l-1,n,o)}catch{}let p=Array.isArray(e)?[]:{},h=0,I=Po(e);for(let b in I){if(!Object.prototype.hasOwnProperty.call(I,b))continue;if(h>=n){p[b]="[MaxProperties ~]";break}let we=I[b];p[b]=Do(b,we,l-1,n,o),h++}return s(e),p}function $m(t,e){try{return t==="domain"&&e&&typeof e=="object"&&e._events?"[Domain]":t==="domainEmitter"?"[DomainEmitter]":typeof global<"u"&&e===global?"[Global]":typeof window<"u"&&e===window?"[Window]":typeof document<"u"&&e===document?"[Document]":Zi(e)?"[SyntheticEvent]":typeof e=="number"&&e!==e?"[NaN]":e===void 0?"[undefined]":typeof e=="function"?`[Function: ${ke(e)}]`:typeof e=="symbol"?`[${String(e)}]`:typeof e=="bigint"?`[BigInt: ${String(e)}]`:`[object ${Fm(e)}]`}catch(r){return`**non-serializable** (${r})`}}function Fm(t){let e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}function zm(t){return~-encodeURI(t).split(/%..|./).length}function Hm(t){return zm(JSON.stringify(t))}var gt;(function(t){t[t.PENDING=0]="PENDING";let r=1;t[t.RESOLVED=r]="RESOLVED";let n=2;t[t.REJECTED=n]="REJECTED"})(gt||(gt={}));function ue(t){return new J(e=>{e(t)})}function At(t){return new J((e,r)=>{r(t)})}var J=class{__init(){this._state=gt.PENDING}__init2(){this._handlers=[]}constructor(e){J.prototype.__init.call(this),J.prototype.__init2.call(this),J.prototype.__init3.call(this),J.prototype.__init4.call(this),J.prototype.__init5.call(this),J.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}then(e,r){return new J((n,o)=>{this._handlers.push([!1,i=>{if(!e)n(i);else try{n(e(i))}catch(s){o(s)}},i=>{if(!r)o(i);else try{n(r(i))}catch(s){o(s)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new J((r,n)=>{let o,i;return this.then(s=>{i=!1,o=s,e&&e()},s=>{i=!0,o=s,e&&e()}).then(()=>{if(i){n(o);return}r(o)})})}__init3(){this._resolve=e=>{this._setResult(gt.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(gt.REJECTED,e)}}__init5(){this._setResult=(e,r)=>{if(this._state===gt.PENDING){if(dr(r)){r.then(this._resolve,this._reject);return}this._state=e,this._value=r,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state===gt.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===gt.RESOLVED&&r[1](this._value),this._state===gt.REJECTED&&r[2](this._value),r[0]=!0)})}}};function ds(t){let e=[];function r(){return t===void 0||e.length<t}function n(s){return e.splice(e.indexOf(s),1)[0]}function o(s){if(!r())return At(new z("Not adding Promise because buffer limit was reached."));let a=s();return e.indexOf(a)===-1&&e.push(a),a.then(()=>n(a)).then(null,()=>n(a).then(null,()=>{})),a}function i(s){return new J((a,l)=>{let u=e.length;if(!u)return a(!0);let p=setTimeout(()=>{s&&s>0&&a(!1)},s);e.forEach(h=>{ue(h).then(()=>{--u||(clearTimeout(p),a(!0))},l)})})}return{$:e,add:o,drain:i}}function hn(t){if(!t)return{};let e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};let r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+r+n}}var Ic=["fatal","error","warning","log","info","debug"];function ps(t){return t==="warn"?"warning":Ic.includes(t)?t:"log"}var Nc=mt(),ms={nowSeconds:()=>Date.now()/1e3};function Ym(){let{performance:t}=Nc;if(!t||!t.now)return;let e=Date.now()-t.now();return{now:()=>t.now(),timeOrigin:e}}function Jm(){try{return Le(module,"perf_hooks").performance}catch{return}}var fs=gr()?Jm():Ym(),Rc=fs===void 0?ms:{nowSeconds:()=>(fs.timeOrigin+fs.now())/1e3},_t=ms.nowSeconds.bind(ms),_n=Rc.nowSeconds.bind(Rc),Mt=_n;var gn,Gt=(()=>{let{performance:t}=Nc;if(!t||!t.now){gn="none";return}let e=3600*1e3,r=t.now(),n=Date.now(),o=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,i=o<e,s=t.timing&&t.timing.navigationStart,l=typeof s=="number"?Math.abs(s+r-n):e,u=l<e;return i||u?o<=l?(gn="timeOrigin",t.timeOrigin):(gn="navigationStart",s):(gn="dateNow",n)})();var hs=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Mo(t){let e=t.match(hs);if(!t||!e)return;let r;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}function Lt(t,e=[]){return[t,e]}function _s(t,e){let[r,n]=t;return[r,[...n,e]]}function Go(t,e){let r=t[1];for(let n of r){let o=n[0].type;if(e(n,o))return!0}return!1}function gs(t,e){return(e||new TextEncoder).encode(t)}function yn(t,e){let[r,n]=t,o=JSON.stringify(r);function i(s){typeof o=="string"?o=typeof s=="string"?o+s:[gs(o,e),s]:o.push(typeof s=="string"?gs(s,e):s)}for(let s of n){let[a,l]=s;if(i(`
${JSON.stringify(a)}
`),typeof l=="string"||l instanceof Uint8Array)i(l);else{let u;try{u=JSON.stringify(l)}catch{u=JSON.stringify(Ue(l))}i(u)}}return typeof o=="string"?o:qm(o)}function qm(t){let e=t.reduce((o,i)=>o+i.length,0),r=new Uint8Array(e),n=0;for(let o of t)r.set(o,n),n+=o.length;return r}function ys(t,e){let r=typeof t.data=="string"?gs(t.data,e):t.data;return[ge({type:"attachment",length:r.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),r]}var Wm={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay"};function Lo(t){return Wm[t]}function Uo(t){if(!t||!t.sdk)return;let{name:e,version:r}=t.sdk;return{name:e,version:r}}function bs(t,e,r,n){let o=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&{dsn:Ot(n)},...t.type==="transaction"&&o&&{trace:ge({...o})}}}function vs(t,e,r){let n=[{type:"client_report"},{timestamp:r||_t(),discarded_events:t}];return Lt(e?{dsn:e}:{},[n])}function Cc(t,e=Date.now()){let r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;let n=Date.parse(`${t}`);return isNaN(n)?6e4:n-e}function Oc(t,e){return t[e]||t.all||0}function Es(t,e,r=Date.now()){return Oc(t,e)>r}function Ts(t,{statusCode:e,headers:r},n=Date.now()){let o={...t},i=r&&r["x-sentry-rate-limits"],s=r&&r["retry-after"];if(i)for(let a of i.trim().split(",")){let[l,u]=a.split(":",2),p=parseInt(l,10),h=(isNaN(p)?60:p)*1e3;if(!u)o.all=n+h;else for(let I of u.split(";"))o[I]=n+h}else s?o.all=n+Cc(s,n):e===429&&(o.all=n+60*1e3);return o}var bn="baggage",Ss="sentry-",Ac=/^sentry-/,Mc=8192;function xs(t){if(!le(t)&&!Array.isArray(t))return;let e={};if(Array.isArray(t))e=t.reduce((n,o)=>{let i=Dc(o);return{...n,...i}},{});else{if(!t)return;e=Dc(t)}let r=Object.entries(e).reduce((n,[o,i])=>{if(o.match(Ac)){let s=o.slice(Ss.length);n[s]=i}return n},{});if(Object.keys(r).length>0)return r}function Bo(t){let e=Object.entries(t).reduce((r,[n,o])=>(o&&(r[`${Ss}${n}`]=o),r),{});return Vm(e)}function Dc(t){return t.split(",").map(e=>e.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((e,[r,n])=>(e[r]=n,e),{})}function Vm(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[r,n],o)=>{let i=`${encodeURIComponent(r)}=${encodeURIComponent(n)}`,s=o===0?i:`${e},${i}`;return s.length>Mc?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`Not adding key: ${r} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):s},"")}var Jr="production";function Gc(t){let e=_n(),r={sid:_e(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Km(r)};return t&&yt(r,t),r}function yt(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||_n(),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:_e()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{let r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function Lc(t,e){let r={};e?r={status:e}:t.status==="ok"&&(r={status:"exited"}),yt(t,r)}function Km(t){return ge({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}var Xm=100,ye=class{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(e){let r=new ye;return e&&(r._breadcrumbs=[...e._breadcrumbs],r._tags={...e._tags},r._extra={...e._extra},r._contexts={...e._contexts},r._user=e._user,r._level=e._level,r._span=e._span,r._session=e._session,r._transactionName=e._transactionName,r._fingerprint=e._fingerprint,r._eventProcessors=[...e._eventProcessors],r._requestSession=e._requestSession,r._attachments=[...e._attachments],r._sdkProcessingMetadata={...e._sdkProcessingMetadata}),r}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&yt(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){let r=e(this);return r instanceof ye?r:this}return e instanceof ye?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):Me(e)&&(e=e,this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,r){let n=typeof r=="number"?r:Xm;if(n<=0)return this;let o={timestamp:_t(),...e};return this._breadcrumbs=[...this._breadcrumbs,o].slice(-n),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,r={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};let n=this._span.transaction&&this._span.transaction.name;n&&(e.tags={transaction:n,...e.tags})}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...Uc(),...this._eventProcessors],e,r)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,r,n,o=0){return new J((i,s)=>{let a=e[o];if(r===null||typeof a!="function")i(r);else{let l=a({...r},n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&a.id&&l===null&&f.log(`Event processor "${a.id}" dropped event`),dr(l)?l.then(u=>this._notifyEventProcessors(e,u,n,o+1).then(i)).then(null,s):this._notifyEventProcessors(e,l,n,o+1).then(i).then(null,s)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?mn(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}};function Uc(){return pr("globalEventProcessors",()=>[])}function _r(t){Uc().push(t)}var js=4,Qm=100,Ut=class{__init(){this._stack=[{}]}constructor(e,r=new ye,n=js){this._version=n,Ut.prototype.__init.call(this),this.getStackTop().scope=r,e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){let r=this.getStackTop();r.client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){let e=ye.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){let r=this.pushScope();try{e(r)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,r){let n=this._lastEventId=r&&r.event_id?r.event_id:_e(),o=new Error("Sentry syntheticException");return this._withClient((i,s)=>{i.captureException(e,{originalException:e,syntheticException:o,...r,event_id:n},s)}),n}captureMessage(e,r,n){let o=this._lastEventId=n&&n.event_id?n.event_id:_e(),i=new Error(e);return this._withClient((s,a)=>{s.captureMessage(e,r,{originalException:e,syntheticException:i,...n,event_id:o},a)}),o}captureEvent(e,r){let n=r&&r.event_id?r.event_id:_e();return e.type||(this._lastEventId=n),this._withClient((o,i)=>{o.captureEvent(e,{...r,event_id:n},i)}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,r){let{scope:n,client:o}=this.getStackTop();if(!n||!o)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:s=Qm}=o.getOptions&&o.getOptions()||{};if(s<=0)return;let l={timestamp:_t(),...e},u=i?xo(()=>i(l,r)):l;u!==null&&n.addBreadcrumb(u,s)}setUser(e){let r=this.getScope();r&&r.setUser(e)}setTags(e){let r=this.getScope();r&&r.setTags(e)}setExtras(e){let r=this.getScope();r&&r.setExtras(e)}setTag(e,r){let n=this.getScope();n&&n.setTag(e,r)}setExtra(e,r){let n=this.getScope();n&&n.setExtra(e,r)}setContext(e,r){let n=this.getScope();n&&n.setContext(e,r)}configureScope(e){let{scope:r,client:n}=this.getStackTop();r&&n&&e(r)}run(e){let r=ks(this);try{e(this)}finally{ks(r)}}getIntegration(e){let r=this.getClient();if(!r)return null;try{return r.getIntegration(e)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,r){return this._callExtensionMethod("startTransaction",e,r)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){let e=this.getStackTop(),r=e&&e.scope,n=r&&r.getSession();n&&Lc(n),this._sendSessionUpdate(),r&&r.setSession()}startSession(e){let{scope:r,client:n}=this.getStackTop(),{release:o,environment:i=Jr}=n&&n.getOptions()||{},{userAgent:s}=W.navigator||{},a=Gc({release:o,environment:i,...r&&{user:r.getUser()},...s&&{userAgent:s},...e});if(r){let l=r.getSession&&r.getSession();l&&l.status==="ok"&&yt(l,{status:"exited"}),this.endSession(),r.setSession(a)}return a}shouldSendDefaultPii(){let e=this.getClient(),r=e&&e.getOptions();return!!(r&&r.sendDefaultPii)}_sendSessionUpdate(){let{scope:e,client:r}=this.getStackTop();if(!e)return;let n=e.getSession();n&&r&&r.captureSession&&r.captureSession(n)}_withClient(e){let{scope:r,client:n}=this.getStackTop();n&&e(n,r)}_callExtensionMethod(e,...r){let o=vt().__SENTRY__;if(o&&o.extensions&&typeof o.extensions[e]=="function")return o.extensions[e].apply(this,r);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`Extension method ${e} couldn't be found, doing nothing.`)}};function vt(){return W.__SENTRY__=W.__SENTRY__||{extensions:{},hub:void 0},W}function ks(t){let e=vt(),r=bt(e);return $o(e,t),r}function P(){let t=vt();return(!Bc(t)||bt(t).isOlderThan(js))&&$o(t,new Ut),gr()?eh(t):bt(t)}function eh(t){try{let e=vt().__SENTRY__,r=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!r)return bt(t);if(!Bc(r)||bt(r).isOlderThan(js)){let n=bt(t).getStackTop();$o(r,new Ut(n.client,ye.clone(n.scope)))}return bt(r)}catch{return bt(t)}}function Bc(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function bt(t){return pr("hub",()=>new Ut,t)}function $o(t,e){if(!t)return!1;let r=t.__SENTRY__=t.__SENTRY__||{};return r.hub=e,!0}function qr(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let e=P().getClient(),r=t||e&&e.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}var Bt=class{__init(){this.spans=[]}constructor(e=1e3){Bt.prototype.__init.call(this),this._maxlen=e}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}},je=class{__init2(){this.traceId=_e()}__init3(){this.spanId=_e().substring(16)}__init4(){this.startTimestamp=Mt()}__init5(){this.tags={}}__init6(){this.data={}}__init7(){this.instrumenter="sentry"}constructor(e){if(je.prototype.__init2.call(this),je.prototype.__init3.call(this),je.prototype.__init4.call(this),je.prototype.__init5.call(this),je.prototype.__init6.call(this),je.prototype.__init7.call(this),!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp),e.instrumenter&&(this.instrumenter=e.instrumenter)}startChild(e){let r=new je({...e,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r),r.transaction=this.transaction,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&r.transaction){let n=e&&e.op||"< unknown op >",o=r.transaction.name||"< unknown name >",i=r.transaction.spanId,s=`[Tracing] Starting '${n}' span on transaction '${o}' (${i}).`;r.transaction.metadata.spanMetadata[r.spanId]={logMessage:s},f.log(s)}return r}setTag(e,r){return this.tags={...this.tags,[e]:r},this}setData(e,r){return this.data={...this.data,[e]:r},this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e));let r=th(e);return r!=="unknown_error"&&this.setStatus(r),this}isSuccess(){return this.status==="ok"}finish(e){if((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){let{logMessage:r}=this.transaction.metadata.spanMetadata[this.spanId];r&&f.log(r.replace("Starting","Finishing"))}this.endTimestamp=typeof e=="number"?e:Mt()}toTraceparent(){let e="";return this.sampled!==void 0&&(e=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${e}`}toContext(){return ge({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=e.data||{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=e.spanId||this.spanId,this.startTimestamp=e.startTimestamp||this.startTimestamp,this.status=e.status,this.tags=e.tags||{},this.traceId=e.traceId||this.traceId,this}getTraceContext(){return ge({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return ge({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}};function th(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}var Xe=class extends je{__init(){this._measurements={}}__init2(){this._contexts={}}__init3(){this._frozenDynamicSamplingContext=void 0}constructor(e,r){super(e),Xe.prototype.__init.call(this),Xe.prototype.__init2.call(this),Xe.prototype.__init3.call(this),this._hub=r||P(),this._name=e.name||"",this.metadata={source:"custom",...e.metadata,spanMetadata:{}},this._trimEnd=e.trimEnd,this.transaction=this;let n=this.metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}setName(e,r="custom"){this._name=e,this.metadata.source=r}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new Bt(e)),this.spanRecorder.add(this)}setContext(e,r){r===null?delete this._contexts[e]:this._contexts[e]=r}setMeasurement(e,r,n=""){this._measurements[e]={value:r,unit:n}}setMetadata(e){this.metadata={...this.metadata,...e}}finish(e){if(this.endTimestamp!==void 0)return;this.name||((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(e);let r=this._hub.getClient();if(r&&r.emit&&r.emit("finishTransaction",this),this.sampled!==!0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),r&&r.recordDroppedEvent("sample_rate","transaction");return}let n=this.spanRecorder?this.spanRecorder.spans.filter(a=>a!==this&&a.endTimestamp):[];this._trimEnd&&n.length>0&&(this.endTimestamp=n.reduce((a,l)=>a.endTimestamp&&l.endTimestamp?a.endTimestamp>l.endTimestamp?a:l:a).endTimestamp);let o=this.metadata,i={contexts:{...this._contexts,trace:this.getTraceContext()},spans:n,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...o,dynamicSamplingContext:this.getDynamicSamplingContext()},...o.source&&{transaction_info:{source:o.source}}};return Object.keys(this._measurements).length>0&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(i)}toContext(){let e=super.toContext();return ge({...e,name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;let e=this._hub||P(),r=e&&e.getClient();if(!r)return{};let{environment:n,release:o}=r.getOptions()||{},{publicKey:i}=r.getDsn()||{},s=this.metadata.sampleRate,a=s!==void 0?s.toString():void 0,l=e.getScope(),{segment:u}=l&&l.getUser()||{},p=this.metadata.source,h=p&&p!=="url"?this.name:void 0;return ge({environment:n||Jr,release:o,transaction:h,user_segment:u,public_key:i,trace_id:this.traceId,sample_rate:a})}};var Wr={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},Ps=class extends Bt{constructor(e,r,n,o){super(o),this._pushActivity=e,this._popActivity=r,this.transactionSpanId=n}add(e){e.spanId!==this.transactionSpanId&&(e.finish=r=>{e.endTimestamp=typeof r=="number"?r:Mt(),this._popActivity(e.spanId)},e.endTimestamp===void 0&&this._pushActivity(e.spanId)),super.add(e)}},Be=class extends Xe{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._idleTimeoutCanceledPermanently=!1}__init5(){this._beforeFinishCallbacks=[]}constructor(e,r,n=Wr.idleTimeout,o=Wr.finalTimeout,i=Wr.heartbeatInterval,s=!1){super(e,r),this._idleHub=r,this._idleTimeout=n,this._finalTimeout=o,this._heartbeatInterval=i,this._onScope=s,Be.prototype.__init.call(this),Be.prototype.__init2.call(this),Be.prototype.__init3.call(this),Be.prototype.__init4.call(this),Be.prototype.__init5.call(this),s&&($c(r),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),r.configureScope(a=>a.setSpan(this))),this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this.finish())},this._finalTimeout)}finish(e=Mt()){if(this._finished=!0,this.activities={},this.spanRecorder){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Tracing] finishing IdleTransaction",new Date(e*1e3).toISOString(),this.op);for(let r of this._beforeFinishCallbacks)r(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter(r=>{if(r.spanId===this.spanId)return!0;r.endTimestamp||(r.endTimestamp=e,r.setStatus("cancelled"),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(r,void 0,2)));let n=r.startTimestamp<e;return n||(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(r,void 0,2)),n}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Tracing] No active IdleTransaction");return this._onScope&&$c(this._idleHub),super.finish(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){let r=o=>{this._finished||this._pushActivity(o)},n=o=>{this._finished||this._popActivity(o)};this.spanRecorder=new Ps(r,n,this.spanId,e),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:r}={restartOnChildSpanChange:!0}){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,this._idleTimeoutCanceledPermanently=r===!1,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&this.finish(e))}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&this.finish(e)},this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`[Tracing] popActivity ${e}`),delete this.activities[e],(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){let r=Mt();this._idleTimeoutCanceledPermanently?this.finish(r):this._restartIdleTimeout(r+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;let e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}_pingHeartbeat(){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}};function $c(t){let e=t.getScope();e&&e.getTransaction()&&e.setSpan(void 0)}function rh(){let t=this.getScope();if(t){let e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function Fc(t,e,r){if(!qr(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setMetadata({sampleRate:Number(t.sampled)}),t;let n;return typeof e.tracesSampler=="function"?(n=e.tracesSampler(r),t.setMetadata({sampleRate:Number(n)})):r.parentSampled!==void 0?n=r.parentSampled:typeof e.tracesSampleRate<"u"?(n=e.tracesSampleRate,t.setMetadata({sampleRate:Number(n)})):(n=1,t.setMetadata({sampleRate:n})),nh(n)?n?(t.sampled=Math.random()<n,t.sampled?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`[Tracing] starting ${t.op} transaction - ${t.name}`),t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),t)):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function nh(t){return dn(t)||!(typeof t=="number"||typeof t=="boolean")?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function oh(t,e){let r=this.getClient(),n=r&&r.getOptions()||{},o=n.instrumenter||"sentry",i=t.instrumenter||"sentry";o!==i&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.error(`A transaction was started with instrumenter=\`${i}\`, but the SDK is configured with the \`${o}\` instrumenter.
The transaction will not be sampled. Please use the ${o} instrumentation to start transactions.`),t.sampled=!1);let s=new Xe(t,this);return s=Fc(s,n,{parentSampled:t.parentSampled,transactionContext:t,...e}),s.sampled&&s.initSpanRecorder(n._experiments&&n._experiments.maxSpans),r&&r.emit&&r.emit("startTransaction",s),s}function Fo(t,e,r,n,o,i,s){let a=t.getClient(),l=a&&a.getOptions()||{},u=new Be(e,t,r,n,s,o);return u=Fc(u,l,{parentSampled:e.parentSampled,transactionContext:e,...i}),u.sampled&&u.initSpanRecorder(l._experiments&&l._experiments.maxSpans),a&&a.emit&&a.emit("startTransaction",u),u}function ws(){let t=vt();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=oh),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=rh))}function $t(t){let r=(t||P()).getScope();return r&&r.getTransaction()}function Is(t,e){return P().captureException(t,{captureContext:e})}function Rs(t){P().withScope(t)}var ih="7";function sh(t){let e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}function ah(t){return`${sh(t)}${t.projectId}/envelope/`}function ch(t,e){return es({sentry_key:t.publicKey,sentry_version:ih,...e&&{sentry_client:`${e.name}/${e.version}`}})}function vn(t,e={}){let r=typeof e=="string"?e:e.tunnel,n=typeof e=="string"||!e._metadata?void 0:e._metadata.sdk;return r||`${ah(t)}?${ch(t,n)}`}function lh(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function zc(t,e,r,n){let o=Uo(r),i={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!n&&{dsn:Ot(e)}},s="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t];return Lt(i,[s])}function Hc(t,e,r,n){let o=Uo(r),i=t.type&&t.type!=="replay_event"?t.type:"event";lh(t,r&&r.sdk);let s=bs(t,o,n,e);return delete t.sdkProcessingMetadata,Lt(s,[[{type:i},t]])}var Yc=[];function uh(t){let e={};return t.forEach(r=>{let{name:n}=r,o=e[n];o&&!o.isDefaultInstance&&r.isDefaultInstance||(e[n]=r)}),Object.keys(e).map(r=>e[r])}function Ns(t){let e=t.defaultIntegrations||[],r=t.integrations;e.forEach(s=>{s.isDefaultInstance=!0});let n;Array.isArray(r)?n=[...e,...r]:typeof r=="function"?n=mn(r(e)):n=e;let o=uh(n),i=o.findIndex(s=>s.name==="Debug");if(i!==-1){let[s]=o.splice(i,1);o.push(s)}return o}function Jc(t){let e={};return t.forEach(r=>{r&&Cs(r,e)}),e}function Cs(t,e){e[t.name]=t,Yc.indexOf(t.name)===-1&&(t.setupOnce(_r,P),Yc.push(t.name),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`Integration installed: ${t.name}`))}function qc(t,e,r,n){let{normalizeDepth:o=3,normalizeMaxBreadth:i=1e3}=t,s={...e,event_id:e.event_id||r.event_id||_e(),timestamp:e.timestamp||_t()},a=r.integrations||t.integrations.map(p=>p.name);dh(s,t),fh(s,a),ph(s,t.stackParser);let l=n;r.captureContext&&(l=ye.clone(l).update(r.captureContext));let u=ue(s);if(l){if(l.getAttachments){let p=[...r.attachments||[],...l.getAttachments()];p.length&&(r.attachments=p)}u=l.applyToEvent(s,r)}return u.then(p=>typeof o=="number"&&o>0?mh(p,o,i):p)}function dh(t,e){let{environment:r,release:n,dist:o,maxValueLength:i=250}=e;"environment"in t||(t.environment="environment"in e?r:Jr),t.release===void 0&&n!==void 0&&(t.release=n),t.dist===void 0&&o!==void 0&&(t.dist=o),t.message&&(t.message=Dt(t.message,i));let s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=Dt(s.value,i));let a=t.request;a&&a.url&&(a.url=Dt(a.url,i))}function ph(t,e){let r=W._sentryDebugIds;if(!r)return;let n=Object.keys(r).reduce((s,a)=>{let l=e(a);for(let u of l)if(u.abs_path){s[u.abs_path]=r[a];break}return s},{}),o=new Set;try{t.exception.values.forEach(s=>{s.stacktrace.frames.forEach(a=>{a.abs_path&&o.add(a.abs_path)})})}catch{}t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];let i=t.debug_meta.images;o.forEach(s=>{n[s]&&i.push({type:"sourcemap",code_file:s,debug_id:n[s]})})}function fh(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function mh(t,e,r){if(!t)return null;let n={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(o=>({...o,...o.data&&{data:Ue(o.data,e,r)}}))},...t.user&&{user:Ue(t.user,e,r)},...t.contexts&&{contexts:Ue(t.contexts,e,r)},...t.extra&&{extra:Ue(t.extra,e,r)}};return t.contexts&&t.contexts.trace&&n.contexts&&(n.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(n.contexts.trace.data=Ue(t.contexts.trace.data,e,r))),t.spans&&(n.spans=t.spans.map(o=>(o.data&&(o.data=Ue(o.data,e,r)),o))),n}var Wc="Not capturing exception because it's already been captured.",$e=class{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}__init5(){this._hooks={}}constructor(e){if($e.prototype.__init.call(this),$e.prototype.__init2.call(this),$e.prototype.__init3.call(this),$e.prototype.__init4.call(this),$e.prototype.__init5.call(this),this._options=e,e.dsn){this._dsn=So(e.dsn);let r=vn(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:r})}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn("No DSN provided, client will not do anything.")}captureException(e,r,n){if(Oo(e)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(Wc);return}let o=r&&r.event_id;return this._process(this.eventFromException(e,r).then(i=>this._captureEvent(i,r,n)).then(i=>{o=i})),o}captureMessage(e,r,n,o){let i=n&&n.event_id,s=$r(e)?this.eventFromMessage(String(e),r,n):this.eventFromException(e,n);return this._process(s.then(a=>this._captureEvent(a,n,o)).then(a=>{i=a})),i}captureEvent(e,r,n){if(r&&r.originalException&&Oo(r.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(Wc);return}let o=r&&r.event_id;return this._process(this._captureEvent(e,r,n).then(i=>{o=i})),o}captureSession(e){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn("SDK not enabled, will not capture session.");return}typeof e.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),yt(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let r=this._transport;return r?this._isClientDoneProcessing(e).then(n=>r.flush(e).then(o=>n&&o)):ue(!0)}close(e){return this.flush(e).then(r=>(this.getOptions().enabled=!1,r))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=Jc(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){Cs(e,this._integrations)}sendEvent(e,r={}){if(this._dsn){let n=Hc(e,this._dsn,this._options._metadata,this._options.tunnel);for(let o of r.attachments||[])n=_s(n,ys(o,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(n)}}sendSession(e){if(this._dsn){let r=zc(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(r)}}recordDroppedEvent(e,r,n){if(this._options.sendClientReports){let o=`${e}:${r}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`Adding outcome: "${o}"`),this._outcomes[o]=this._outcomes[o]+1||1}}on(e,r){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(r)}emit(e,...r){this._hooks[e]&&this._hooks[e].forEach(n=>n(...r))}_updateSessionFromEvent(e,r){let n=!1,o=!1,i=r.exception&&r.exception.values;if(i){o=!0;for(let l of i){let u=l.mechanism;if(u&&u.handled===!1){n=!0;break}}}let s=e.status==="ok";(s&&e.errors===0||s&&n)&&(yt(e,{...n&&{status:"crashed"},errors:e.errors||Number(o||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new J(r=>{let n=0,o=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),r(!0)):(n+=o,e&&n>=e&&(clearInterval(i),r(!1)))},o)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(e,r,n){let o=this.getOptions(),i=Object.keys(this._integrations);return!r.integrations&&i.length>0&&(r.integrations=i),qc(o,e,r,n)}_captureEvent(e,r={},n){return this._processEvent(e,r,n).then(o=>o.event_id,o=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){let i=o;i.logLevel==="log"?f.log(i.message):f.warn(i)}})}_processEvent(e,r,n){let o=this.getOptions(),{sampleRate:i}=o;if(!this._isEnabled())return At(new z("SDK not enabled, will not capture event.","log"));let s=Zc(e),a=Vc(e),l=e.type||"error",u=`before send for type \`${l}\``;if(a&&typeof i=="number"&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",e),At(new z(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));let p=l==="replay_event"?"replay":l;return this._prepareEvent(e,r,n).then(h=>{if(h===null)throw this.recordDroppedEvent("event_processor",p,e),new z("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return h;let b=gh(o,h,r);return hh(b,u)}).then(h=>{if(h===null)throw this.recordDroppedEvent("before_send",p,e),new z(`${u} returned \`null\`, will not send event.`,"log");let I=n&&n.getSession();!s&&I&&this._updateSessionFromEvent(I,h);let b=h.transaction_info;if(s&&b&&h.transaction!==e.transaction){let we="custom";h.transaction_info={...b,source:we}}return this.sendEvent(h,r),h}).then(null,h=>{throw h instanceof z?h:(this.captureException(h,{data:{__sentry__:!0},originalException:h}),new z(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${h}`))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_sendEnvelope(e){this._transport&&this._dsn?this._transport.send(e).then(null,r=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.error("Error while sending event:",r)}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.error("Transport disabled")}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.keys(e).map(r=>{let[n,o]=r.split(":");return{reason:n,category:o,quantity:e[r]}})}};function hh(t,e){let r=`${e} must return \`null\` or a valid event.`;if(dr(t))return t.then(n=>{if(!Me(n)&&n!==null)throw new z(r);return n},n=>{throw new z(`${e} rejected with ${n}`)});if(!Me(t)&&t!==null)throw new z(r);return t}function gh(t,e,r){let{beforeSend:n,beforeSendTransaction:o}=t;return Vc(e)&&n?n(e,r):Zc(e)&&o?o(e,r):e}function Vc(t){return t.type===void 0}function Zc(t){return t.type==="transaction"}function Os(t,e){e.debug===!0&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?f.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));let r=P(),n=r.getScope();n&&n.update(e.initialScope);let o=new t(e);r.bindClient(o)}var _h=30;function En(t,e,r=ds(t.bufferSize||_h)){let n={},o=s=>r.drain(s);function i(s){let a=[];if(Go(s,(h,I)=>{let b=Lo(I);if(Es(n,b)){let we=Kc(h,I);t.recordDroppedEvent("ratelimit_backoff",b,we)}else a.push(h)}),a.length===0)return ue();let l=Lt(s[0],a),u=h=>{Go(l,(I,b)=>{let we=Kc(I,b);t.recordDroppedEvent(h,Lo(b),we)})},p=()=>e({body:yn(l,t.textEncoder)}).then(h=>(h.statusCode!==void 0&&(h.statusCode<200||h.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`Sentry responded with status code ${h.statusCode} to sent event.`),n=Ts(n,h),h),h=>{throw u("network_error"),h});return r.add(p).then(h=>h,h=>{if(h instanceof z)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.error("Skipped sending event because buffer is full."),u("queue_overflow"),ue();throw h})}return{send:i,flush:o}}function Kc(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}var zo="7.42.0";var yr={};ta(yr,{FunctionToString:()=>Ft,InboundFilters:()=>Et});var Xc,Ft=class{constructor(){Ft.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=Ft.id}setupOnce(){Xc=Function.prototype.toString,Function.prototype.toString=function(...e){let r=mr(this)||this;return Xc.apply(r,e)}}};Ft.__initStatic();var yh=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Et=class{static __initStatic(){this.id="InboundFilters"}__init(){this.name=Et.id}constructor(e={}){this._options=e,Et.prototype.__init.call(this)}setupOnce(e,r){let n=o=>{let i=r();if(i){let s=i.getIntegration(Et);if(s){let a=i.getClient(),l=a?a.getOptions():{},u=bh(s._options,l);return vh(o,u)?null:o}}return o};n.id=this.name,e(n)}};Et.__initStatic();function bh(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...yh],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function vh(t,e){return e.ignoreInternal&&kh(t)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`Event dropped due to being internal Sentry Error.
Event: ${Ke(t)}`),!0):Eh(t,e.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ke(t)}`),!0):Th(t,e.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ke(t)}.
Url: ${Ho(t)}`),!0):Sh(t,e.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ke(t)}.
Url: ${Ho(t)}`),!0)}function Eh(t,e){return!e||!e.length?!1:xh(t).some(r=>fr(r,e))}function Th(t,e){if(!e||!e.length)return!1;let r=Ho(t);return r?fr(r,e):!1}function Sh(t,e){if(!e||!e.length)return!0;let r=Ho(t);return r?fr(r,e):!0}function xh(t){if(t.message)return[t.message];if(t.exception)try{let{type:e="",value:r=""}=t.exception.values&&t.exception.values[0]||{};return[`${r}`,`${e}: ${r}`]}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.error(`Cannot extract message for event ${Ke(t)}`),[]}return[]}function kh(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function jh(t=[]){for(let e=t.length-1;e>=0;e--){let r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function Ho(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?jh(e):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.error(`Cannot extract url for event ${Ke(t)}`),null}}var x=W,Ds=0;function As(){return Ds>0}function wh(){Ds++,setTimeout(()=>{Ds--})}function zt(t,e={},r){if(typeof t!="function")return t;try{let o=t.__sentry_wrapped__;if(o)return o;if(mr(t))return t}catch{return t}let n=function(){let o=Array.prototype.slice.call(arguments);try{r&&typeof r=="function"&&r.apply(this,arguments);let i=o.map(s=>zt(s,e));return t.apply(this,i)}catch(i){throw wh(),Rs(s=>{s.addEventProcessor(a=>(e.mechanism&&(Yr(a,void 0,void 0),ht(a,e.mechanism)),a.extra={...a.extra,arguments:o},a)),Is(i)}),i}};try{for(let o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}catch{}jo(n,t),Hr(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return t.name}})}catch{}return n}function Ls(t,e){let r=Us(t,e),n={type:e&&e.name,value:Ch(e)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function Ih(t,e,r,n){let i=P().getClient(),s=i&&i.getOptions().normalizeDepth,a={exception:{values:[{type:Fr(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:`Non-Error ${n?"promise rejection":"exception"} captured with keys: ${ts(e)}`}]},extra:{__serialized__:Ao(e,s)}};if(r){let l=Us(t,r);l.length&&(a.exception.values[0].stacktrace={frames:l})}return a}function Ms(t,e){return{exception:{values:[Ls(t,e)]}}}function Us(t,e){let r=e.stacktrace||e.stack||"",n=Nh(e);try{return t(r,n)}catch{}return[]}var Rh=/Minified React error #\d+;/i;function Nh(t){if(t){if(typeof t.framesToPop=="number")return t.framesToPop;if(Rh.test(t.message))return 1}return 0}function Ch(t){let e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function Qc(t,e,r,n){let o=r&&r.syntheticException||void 0,i=Yo(t,e,o,n);return ht(i),i.level="error",r&&r.event_id&&(i.event_id=r.event_id),ue(i)}function el(t,e,r="info",n,o){let i=n&&n.syntheticException||void 0,s=Gs(t,e,i,o);return s.level=r,n&&n.event_id&&(s.event_id=n.event_id),ue(s)}function Yo(t,e,r,n,o){let i;if(un(e)&&e.error)return Ms(t,e.error);if(vo(e)||qi(e)){let s=e;if("stack"in e)i=Ms(t,e);else{let a=s.name||(vo(s)?"DOMError":"DOMException"),l=s.message?`${a}: ${s.message}`:a;i=Gs(t,l,r,n),Yr(i,l)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}return ln(e)?Ms(t,e):Me(e)||Fr(e)?(i=Ih(t,e,r,o),ht(i,{synthetic:!0}),i):(i=Gs(t,e,r,n),Yr(i,`${e}`,void 0),ht(i,{synthetic:!0}),i)}function Gs(t,e,r,n){let o={message:e};if(n&&r){let i=Us(t,r);i.length&&(o.exception={values:[{value:e,stacktrace:{frames:i}}]})}return o}var Jo=1024,Bs="Breadcrumbs",Qe=class{static __initStatic(){this.id=Bs}__init(){this.name=Qe.id}constructor(e){Qe.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){this.options.console&&V("console",Dh),this.options.dom&&V("dom",Oh(this.options.dom)),this.options.xhr&&V("xhr",Ah),this.options.fetch&&V("fetch",Mh),this.options.history&&V("history",Gh)}addSentryBreadcrumb(e){this.options.sentry&&P().addBreadcrumb({category:`sentry.${e.type==="transaction"?"transaction":"event"}`,event_id:e.event_id,level:e.level,message:Ke(e)},{event:e})}};Qe.__initStatic();function Oh(t){function e(r){let n,o=typeof t=="object"?t.serializeAttribute:void 0,i=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;i&&i>Jo&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`\`dom.maxStringLength\` cannot exceed ${Jo}, but a value of ${i} was configured. Sentry will use ${Jo} instead.`),i=Jo),typeof o=="string"&&(o=[o]);try{let s=r.event;n=Lh(s)?Ze(s.target,{keyAttrs:o,maxStringLength:i}):Ze(s,{keyAttrs:o,maxStringLength:i})}catch{n="<unknown>"}n.length!==0&&P().addBreadcrumb({category:`ui.${r.name}`,message:n},{event:r.event,name:r.name,global:r.global})}return e}function Dh(t){for(let r=0;r<t.args.length;r++)if(t.args[r]==="ref=Ref<"){t.args[r+1]="viewRef";break}let e={category:"console",data:{arguments:t.args,logger:"console"},level:ps(t.level),message:ko(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)e.message=`Assertion failed: ${ko(t.args.slice(1)," ")||"console.assert"}`,e.data.arguments=t.args.slice(1);else return;P().addBreadcrumb(e,{input:t.args,level:t.level})}function Ah(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;let{method:e,url:r,status_code:n,body:o}=t.xhr.__sentry_xhr__||{};P().addBreadcrumb({category:"xhr",data:{method:e,url:r,status_code:n},type:"http"},{xhr:t.xhr,input:o});return}}function Mh(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"||(t.error?P().addBreadcrumb({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args}):P().addBreadcrumb({category:"fetch",data:{...t.fetchData,status_code:t.response&&t.response.status},type:"http"},{input:t.args,response:t.response})))}function Gh(t){let e=t.from,r=t.to,n=hn(x.location.href),o=hn(e),i=hn(r);o.path||(o=n),n.protocol===i.protocol&&n.host===i.host&&(r=i.relative),n.protocol===o.protocol&&n.host===o.host&&(e=o.relative),P().addBreadcrumb({category:"navigation",data:{from:e,to:r}})}function Lh(t){return t&&!!t.target}var qo=class extends $e{constructor(e){let r=x.SENTRY_SDK_SOURCE||ls();e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${r}:@sentry/browser`,version:zo}],version:zo},super(e),e.sendClientReports&&x.document&&x.document.addEventListener("visibilitychange",()=>{x.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,r){return Qc(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",n){return el(this._options.stackParser,e,r,n,this._options.attachStacktrace)}sendEvent(e,r){let n=this.getIntegrationById(Bs);n&&n.addSentryBreadcrumb&&n.addSentryBreadcrumb(e),super.sendEvent(e,r)}_prepareEvent(e,r,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,n)}_flushOutcomes(){let e=this._clearOutcomes();if(e.length===0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("Sending outcomes:",e);let r=vn(this._dsn,this._options),n=vs(e,this._options.tunnel&&Ot(this._dsn));try{Object.prototype.toString.call(x&&x.navigator)==="[object Navigator]"&&typeof x.navigator.sendBeacon=="function"&&!this._options.transportOptions?x.navigator.sendBeacon.bind(x.navigator)(r,yn(n)):this._sendEnvelope(n)}catch(o){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.error(o)}}};var Tn;function tl(){if(Tn)return Tn;if(pn(x.fetch))return Tn=x.fetch.bind(x);let t=x.document,e=x.fetch;if(t&&typeof t.createElement=="function")try{let r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r);let n=r.contentWindow;n&&n.fetch&&(e=n.fetch),t.head.removeChild(r)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return Tn=e.bind(x)}function rl(){Tn=void 0}function nl(t,e=tl()){function r(n){let o={body:n.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n.body.length<=65536,...t.fetchOptions};try{return e(t.url,o).then(i=>({statusCode:i.status,headers:{"x-sentry-rate-limits":i.headers.get("X-Sentry-Rate-Limits"),"retry-after":i.headers.get("Retry-After")}}))}catch(i){return rl(),At(i)}}return En(t,r)}var Uh=4;function ol(t){function e(r){return new J((n,o)=>{let i=new XMLHttpRequest;i.onerror=o,i.onreadystatechange=()=>{i.readyState===Uh&&n({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",t.url);for(let s in t.headers)Object.prototype.hasOwnProperty.call(t.headers,s)&&i.setRequestHeader(s,t.headers[s]);i.send(r.body)})}return En(t,e)}var Wo="?";var Bh=30,$h=40,Fh=50;function $s(t,e,r,n){let o={filename:t,abs_path:t,function:e,in_app:!0};return r!==void 0&&(o.lineno=r),n!==void 0&&(o.colno=n),o}var zh=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?(?:async )?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Hh=/\((\S*)(?::(\d+))(?::(\d+))\)/,Yh=t=>{let e=zh.exec(t);if(e){if(e[2]&&e[2].indexOf("eval")===0){let i=Hh.exec(e[2]);i&&(e[2]=i[1],e[3]=i[2],e[4]=i[3])}let[n,o]=sl(e[1]||Wo,e[2]);return $s(o,n,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}},Jh=[Bh,Yh],qh=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Wh=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Vh=t=>{let e=qh.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){let i=Wh.exec(e[3]);i&&(e[1]=e[1]||"eval",e[3]=i[1],e[4]=i[2],e[5]="")}let n=e[3],o=e[1]||Wo;return[o,n]=sl(o,n),$s(n,o,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},Zh=[Fh,Vh],Kh=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Xh=t=>{let e=Kh.exec(t);return e?$s(e[2],e[1]||Wo,+e[3],e[4]?+e[4]:void 0):void 0},Qh=[$h,Xh];var eg=[Jh,Zh,Qh],il=wo(...eg),sl=(t,e)=>{let r=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return r||n?[t.indexOf("@")!==-1?t.split("@")[0]:Wo,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};var be=class{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=be.id}__init2(){this._installFunc={onerror:tg,onunhandledrejection:rg}}constructor(e){be.prototype.__init.call(this),be.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}setupOnce(){Error.stackTraceLimit=50;let e=this._options;for(let r in e){let n=this._installFunc[r];n&&e[r]&&(ig(r),n(),this._installFunc[r]=void 0)}}};be.__initStatic();function tg(){V("error",t=>{let[e,r,n]=ll();if(!e.getIntegration(be))return;let{msg:o,url:i,line:s,column:a,error:l}=t;if(As()||l&&l.__sentry_own_request__)return;let u=l===void 0&&le(o)?og(o,i,s,a):al(Yo(r,l||o,void 0,n,!1),i,s,a);u.level="error",cl(e,l,u,"onerror")})}function rg(){V("unhandledrejection",t=>{let[e,r,n]=ll();if(!e.getIntegration(be))return;let o=t;try{"reason"in t?o=t.reason:"detail"in t&&"reason"in t.detail&&(o=t.detail.reason)}catch{}if(As()||o&&o.__sentry_own_request__)return!0;let i=$r(o)?ng(o):Yo(r,o,void 0,n,!0);i.level="error",cl(e,o,i,"onunhandledrejection")})}function ng(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function og(t,e,r,n){let o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,i=un(t)?t.message:t,s="Error",a=i.match(o);return a&&(s=a[1],i=a[2]),al({exception:{values:[{type:s,value:i}]}},e,r,n)}function al(t,e,r,n){let o=t.exception=t.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},l=a.frames=a.frames||[],u=isNaN(parseInt(n,10))?void 0:n,p=isNaN(parseInt(r,10))?void 0:r,h=le(e)&&e.length>0?e:Ki();return l.length===0&&l.push({colno:u,filename:h,function:"?",in_app:!0,lineno:p}),t}function ig(t){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`Global Handler attached: ${t}`)}function cl(t,e,r,n){ht(r,{handled:!1,type:n}),t.captureEvent(r,{originalException:e})}function ll(){let t=P(),e=t.getClient(),r=e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[t,r.stackParser,r.attachStacktrace]}var sg=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],et=class{static __initStatic(){this.id="TryCatch"}__init(){this.name=et.id}constructor(e){et.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){this._options.setTimeout&&Z(x,"setTimeout",ul),this._options.setInterval&&Z(x,"setInterval",ul),this._options.requestAnimationFrame&&Z(x,"requestAnimationFrame",ag),this._options.XMLHttpRequest&&"XMLHttpRequest"in x&&Z(XMLHttpRequest.prototype,"send",cg);let e=this._options.eventTarget;e&&(Array.isArray(e)?e:sg).forEach(lg)}};et.__initStatic();function ul(t){return function(...e){let r=e[0];return e[0]=zt(r,{mechanism:{data:{function:ke(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}}function ag(t){return function(e){return t.apply(this,[zt(e,{mechanism:{data:{function:"requestAnimationFrame",handler:ke(t)},handled:!0,type:"instrument"}})])}}function cg(t){return function(...e){let r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in r&&typeof r[o]=="function"&&Z(r,o,function(i){let s={mechanism:{data:{function:o,handler:ke(i)},handled:!0,type:"instrument"}},a=mr(i);return a&&(s.mechanism.data.handler=ke(a)),zt(i,s)})}),t.apply(this,e)}}function lg(t){let e=x,r=e[t]&&e[t].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Z(r,"addEventListener",function(n){return function(o,i,s){try{typeof i.handleEvent=="function"&&(i.handleEvent=zt(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ke(i),target:t},handled:!0,type:"instrument"}}))}catch{}return n.apply(this,[o,zt(i,{mechanism:{data:{function:"addEventListener",handler:ke(i),target:t},handled:!0,type:"instrument"}}),s])}}),Z(r,"removeEventListener",function(n){return function(o,i,s){let a=i;try{let l=a&&a.__sentry_wrapped__;l&&n.call(this,o,l,s)}catch{}return n.call(this,o,a,s)}}))}var ug="cause",dg=5,Fe=class{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=Fe.id}constructor(e={}){Fe.prototype.__init.call(this),this._key=e.key||ug,this._limit=e.limit||dg}setupOnce(){let e=P().getClient();e&&_r((r,n)=>{let o=P().getIntegration(Fe);return o?pg(e.getOptions().stackParser,o._key,o._limit,r,n):r})}};Fe.__initStatic();function pg(t,e,r,n,o){if(!n.exception||!n.exception.values||!o||!se(o.originalException,Error))return n;let i=dl(t,r,o.originalException,e);return n.exception.values=[...i,...n.exception.values],n}function dl(t,e,r,n,o=[]){if(!se(r[n],Error)||o.length+1>=e)return o;let i=Ls(t,r[n]);return dl(t,e,r[n],n,[i,...o])}var ze=class{constructor(){ze.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=ze.id}setupOnce(){_r(e=>{if(P().getIntegration(ze)){if(!x.navigator&&!x.location&&!x.document)return e;let r=e.request&&e.request.url||x.location&&x.location.href,{referrer:n}=x.document||{},{userAgent:o}=x.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...o&&{"User-Agent":o}},s={...e.request,...r&&{url:r},headers:i};return{...e,request:s}}return e})}};ze.__initStatic();var He=class{constructor(){He.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=He.id}setupOnce(e,r){let n=o=>{if(o.type)return o;let i=r().getIntegration(He);if(i){try{if(fg(o,i._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return i._previousEvent=o}return i._previousEvent=o}return o};n.id=this.name,e(n)}};He.__initStatic();function fg(t,e){return e?!!(mg(t,e)||hg(t,e)):!1}function mg(t,e){let r=t.message,n=e.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!hl(t,e)||!ml(t,e))}function hg(t,e){let r=pl(e),n=pl(t);return!(!r||!n||r.type!==n.type||r.value!==n.value||!hl(t,e)||!ml(t,e))}function ml(t,e){let r=fl(t),n=fl(e);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let o=0;o<n.length;o++){let i=n[o],s=r[o];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function hl(t,e){let r=t.fingerprint,n=e.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch{return!1}}function pl(t){return t.exception&&t.exception.values&&t.exception.values[0]}function fl(t){let e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}var _l=[new yr.InboundFilters,new yr.FunctionToString,new et,new Qe,new be,new Fe,new He,new ze];function Fs(t={}){t.defaultIntegrations===void 0&&(t.defaultIntegrations=_l),t.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(t.release=__SENTRY_RELEASE__),x.SENTRY_RELEASE&&x.SENTRY_RELEASE.id&&(t.release=x.SENTRY_RELEASE.id)),t.autoSessionTracking===void 0&&(t.autoSessionTracking=!0),t.sendClientReports===void 0&&(t.sendClientReports=!0);let e={...t,stackParser:ns(t.stackParser||il),integrations:Ns(t),transport:t.transport||(Io()?nl:ol)};Os(qo,e),t.autoSessionTracking&&gg()}function gl(t){t.startSession({ignoreDuration:!0}),t.captureSession()}function gg(){if(typeof x.document>"u"){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}let t=P();t.captureSession&&(gl(t),V("history",({from:e,to:r})=>{e===void 0||e===r||gl(P())}))}var zs={};ta(zs,{Breadcrumbs:()=>Qe,Dedupe:()=>He,GlobalHandlers:()=>be,HttpContext:()=>ze,LinkedErrors:()=>Fe,TryCatch:()=>et});var yl={};x.Sentry&&x.Sentry.Integrations&&(yl=x.Sentry.Integrations);var ax={...yl,...yr,...zs};function vl(){V("error",bl),V("unhandledrejection",bl)}function bl(){let t=$t();if(t){let e="internal_error";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}function yg(){let t=vt();if(!t.__SENTRY__)return;let e={mongodb(){let n=Le(module,"./node/integrations/mongo");return new n.Mongo},mongoose(){let n=Le(module,"./node/integrations/mongo");return new n.Mongo({mongoose:!0})},mysql(){let n=Le(module,"./node/integrations/mysql");return new n.Mysql},pg(){let n=Le(module,"./node/integrations/postgres");return new n.Postgres}},r=Object.keys(e).filter(n=>!!us(n)).map(n=>{try{return e[n]()}catch{return}}).filter(n=>n);r.length>0&&(t.__SENTRY__.integrations=[...t.__SENTRY__.integrations||[],...r])}function El(){ws(),gr()&&yg(),vl()}var w=W;function Tl(){w&&w.document?w.document.addEventListener("visibilitychange",()=>{let t=$t();if(w.document.hidden&&t){let e="cancelled";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${t.op}`),t.status||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.finish()}}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var Vr=(t,e,r)=>{let n,o;return i=>{e.value>=0&&(i||r)&&(o=e.value-(n||0),(o||n===void 0)&&(n=e.value,e.delta=o,t(e)))}};var Sl=()=>`v3-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;var bg=()=>{let t=w.performance.timing,e=w.performance.navigation.type,r={entryType:"navigation",startTime:0,type:e==2?"back_forward":e===1?"reload":"navigate"};for(let n in t)n!=="navigationStart"&&n!=="toJSON"&&(r[n]=Math.max(t[n]-t.navigationStart,0));return r},Vo=()=>w.__WEB_VITALS_POLYFILL__?w.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||bg()):w.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];var Zo=()=>{let t=Vo();return t&&t.activationStart||0};var Zr=(t,e)=>{let r=Vo(),n="navigate";return r&&(w.document.prerendering||Zo()>0?n="prerender":n=r.type.replace(/_/g,"-")),{name:t,value:typeof e>"u"?-1:e,rating:"good",delta:0,entries:[],id:Sl(),navigationType:n}};var Tt=(t,e,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){let n=new PerformanceObserver(o=>{e(o.getEntries())});return n.observe(Object.assign({type:t,buffered:!0},r||{})),n}}catch{}};var Ht=(t,e)=>{let r=n=>{(n.type==="pagehide"||w.document.visibilityState==="hidden")&&(t(n),e&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0)};var xl=t=>{let e=Zr("CLS",0),r,n=0,o=[],i=a=>{a.forEach(l=>{if(!l.hadRecentInput){let u=o[0],p=o[o.length-1];n&&o.length!==0&&l.startTime-p.startTime<1e3&&l.startTime-u.startTime<5e3?(n+=l.value,o.push(l)):(n=l.value,o=[l]),n>e.value&&(e.value=n,e.entries=o,r&&r())}})},s=Tt("layout-shift",i);if(s){r=Vr(t,e);let a=()=>{i(s.takeRecords()),r(!0)};return Ht(a),a}};var Ko=-1,vg=()=>w.document.visibilityState==="hidden"&&!w.document.prerendering?0:1/0,Eg=()=>{Ht(({timeStamp:t})=>{Ko=t},!0)},Kr=()=>(Ko<0&&(Ko=vg(),Eg()),{get firstHiddenTime(){return Ko}});var kl=t=>{let e=Kr(),r=Zr("FID"),n,o=a=>{a.startTime<e.firstHiddenTime&&(r.value=a.processingStart-a.startTime,r.entries.push(a),n(!0))},i=a=>{a.forEach(o)},s=Tt("first-input",i);n=Vr(t,r),s&&Ht(()=>{i(s.takeRecords()),s.disconnect()},!0)};var jl={},Pl=t=>{let e=Kr(),r=Zr("LCP"),n,o=s=>{let a=s[s.length-1];if(a){let l=Math.max(a.startTime-Zo(),0);l<e.firstHiddenTime&&(r.value=l,r.entries=[a],n())}},i=Tt("largest-contentful-paint",o);if(i){n=Vr(t,r);let s=()=>{jl[r.id]||(o(i.takeRecords()),i.disconnect(),jl[r.id]=!0,n(!0))};return["keydown","click"].forEach(a=>{addEventListener(a,s,{once:!0,capture:!0})}),Ht(s,!0),s}};function Xo(t){return typeof t=="number"&&isFinite(t)}function br(t,{startTimestamp:e,...r}){return e&&t.startTimestamp>e&&(t.startTimestamp=e),t.startChild({startTimestamp:e,...r})}function K(t){return t/1e3}function Il(){return w&&w.addEventListener&&w.performance}var wl=0,q={},tt,Sn;function Rl(){let t=Il();if(t&&Gt){t.mark&&w.performance.mark("sentry-tracing-init"),xg();let e=Tg(),r=Sg();return()=>{e&&e(),r&&r()}}return()=>{}}function Nl(){Tt("longtask",e=>{for(let r of e){let n=$t();if(!n)return;let o=K(Gt+r.startTime),i=K(r.duration);n.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:o,endTimestamp:o+i})}})}function Cl(){Tt("event",e=>{for(let r of e){let n=$t();if(!n)return;if(r.name==="click"){let o=K(Gt+r.startTime),i=K(r.duration);n.startChild({description:Ze(r.target),op:`ui.interaction.${r.name}`,startTimestamp:o,endTimestamp:o+i})}}},{durationThreshold:0})}function Tg(){return xl(t=>{let e=t.entries.pop();e&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Measurements] Adding CLS"),q.cls={value:t.value,unit:""},Sn=e)})}function Sg(){return Pl(t=>{let e=t.entries.pop();e&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Measurements] Adding LCP"),q.lcp={value:t.value,unit:"millisecond"},tt=e)})}function xg(){kl(t=>{let e=t.entries.pop();if(!e)return;let r=K(Gt),n=K(e.startTime);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Measurements] Adding FID"),q.fid={value:t.value,unit:"millisecond"},q["mark.fid"]={value:r+n,unit:"second"}})}function Ol(t){let e=Il();if(!e||!w.performance.getEntries||!Gt)return;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Tracing] Adding & adjusting spans using Performance API");let r=K(Gt),n=e.getEntries(),o,i;if(n.slice(wl).forEach(s=>{let a=K(s.startTime),l=K(s.duration);if(!(t.op==="navigation"&&r+a<t.startTimestamp))switch(s.entryType){case"navigation":{jg(t,s,r),o=r+K(s.responseStart),i=r+K(s.requestStart);break}case"mark":case"paint":case"measure":{kg(t,s,a,l,r);let u=Kr(),p=s.startTime<u.firstHiddenTime;s.name==="first-paint"&&p&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Measurements] Adding FP"),q.fp={value:s.startTime,unit:"millisecond"}),s.name==="first-contentful-paint"&&p&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Measurements] Adding FCP"),q.fcp={value:s.startTime,unit:"millisecond"});break}case"resource":{let u=s.name.replace(w.location.origin,"");wg(t,s,u,a,l,r);break}}}),wl=Math.max(n.length-1,0),Ig(t),t.op==="pageload"){typeof o=="number"&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Measurements] Adding TTFB"),q.ttfb={value:(o-t.startTimestamp)*1e3,unit:"millisecond"},typeof i=="number"&&i<=o&&(q["ttfb.requestTime"]={value:(o-i)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(a=>{if(!q[a]||r>=t.startTimestamp)return;let l=q[a].value,u=r+K(l),p=Math.abs((u-t.startTimestamp)*1e3),h=p-l;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`[Measurements] Normalized ${a} from ${l} to ${p} (${h})`),q[a].value=p});let s=q["mark.fid"];s&&q.fid&&(br(t,{description:"first input delay",endTimestamp:s.value+K(q.fid.value),op:"ui.action",startTimestamp:s.value}),delete q["mark.fid"]),"fcp"in q||delete q.cls,Object.keys(q).forEach(a=>{t.setMeasurement(a,q[a].value,q[a].unit)}),Rg(t)}tt=void 0,Sn=void 0,q={}}function kg(t,e,r,n,o){let i=o+r,s=i+n;return br(t,{description:e.name,endTimestamp:s,op:e.entryType,startTimestamp:i}),i}function jg(t,e,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(n=>{Qo(t,e,n,r)}),Qo(t,e,"secureConnection",r,"TLS/SSL","connectEnd"),Qo(t,e,"fetch",r,"cache","domainLookupStart"),Qo(t,e,"domainLookup",r,"DNS"),Pg(t,e,r)}function Qo(t,e,r,n,o,i){let s=i?e[i]:e[`${r}End`],a=e[`${r}Start`];!a||!s||br(t,{op:"browser",description:o||r,startTimestamp:n+K(a),endTimestamp:n+K(s)})}function Pg(t,e,r){br(t,{op:"browser",description:"request",startTimestamp:r+K(e.requestStart),endTimestamp:r+K(e.responseEnd)}),br(t,{op:"browser",description:"response",startTimestamp:r+K(e.responseStart),endTimestamp:r+K(e.responseEnd)})}function wg(t,e,r,n,o,i){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;let s={};"transferSize"in e&&(s["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(s["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(s["Decoded Body Size"]=e.decodedBodySize),"renderBlockingStatus"in e&&(s["resource.render_blocking_status"]=e.renderBlockingStatus);let a=i+n,l=a+o;br(t,{description:r,endTimestamp:l,op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",startTimestamp:a,data:s})}function Ig(t){let e=w.navigator;if(!e)return;let r=e.connection;r&&(r.effectiveType&&t.setTag("effectiveConnectionType",r.effectiveType),r.type&&t.setTag("connectionType",r.type),Xo(r.rtt)&&(q["connection.rtt"]={value:r.rtt,unit:"millisecond"})),Xo(e.deviceMemory)&&t.setTag("deviceMemory",`${e.deviceMemory} GB`),Xo(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}function Rg(t){tt&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Measurements] Adding LCP Data"),tt.element&&t.setTag("lcp.element",Ze(tt.element)),tt.id&&t.setTag("lcp.id",tt.id),tt.url&&t.setTag("lcp.url",tt.url.trim().slice(0,200)),t.setTag("lcp.size",tt.size)),Sn&&Sn.sources&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log("[Measurements] Adding CLS Data"),Sn.sources.forEach((e,r)=>t.setTag(`cls.source.${r+1}`,Ze(e.node))))}var Hs=["localhost",/^\//],ei={traceFetch:!0,traceXHR:!0,tracingOrigins:Hs,tracePropagationTargets:Hs};function Dl(t){let{traceFetch:e,traceXHR:r,tracePropagationTargets:n,tracingOrigins:o,shouldCreateSpanForRequest:i}={traceFetch:ei.traceFetch,traceXHR:ei.traceXHR,...t},s=typeof i=="function"?i:u=>!0,a=u=>Ng(u,n||o),l={};e&&V("fetch",u=>{Cg(u,s,a,l)}),r&&V("xhr",u=>{Dg(u,s,a,l)})}function Ng(t,e){return fr(t,e||Hs)}function Cg(t,e,r,n){if(!qr()||!(t.fetchData&&e(t.fetchData.url)))return;if(t.endTimestamp){let a=t.fetchData.__span;if(!a)return;let l=n[a];l&&(t.response?l.setHttpStatus(t.response.status):t.error&&l.setStatus("internal_error"),l.finish(),delete n[a]);return}let o=P().getScope(),i=o&&o.getSpan(),s=i&&i.transaction;if(i&&s){let a=i.startChild({data:{...t.fetchData,type:"fetch"},description:`${t.fetchData.method} ${t.fetchData.url}`,op:"http.client"});t.fetchData.__span=a.spanId,n[a.spanId]=a;let l=t.args[0];t.args[1]=t.args[1]||{};let u=t.args[1];r(t.fetchData.url)&&(u.headers=Og(l,s.getDynamicSamplingContext(),a,u))}}function Og(t,e,r,n){let o=Bo(e),i=r.toTraceparent(),s=typeof Request<"u"&&se(t,Request)?t.headers:n.headers;if(s)if(typeof Headers<"u"&&se(s,Headers)){let a=new Headers(s);return a.append("sentry-trace",i),o&&a.append(bn,o),a}else if(Array.isArray(s)){let a=[...s,["sentry-trace",i]];return o&&a.push([bn,o]),a}else{let a="baggage"in s?s.baggage:void 0,l=[];return Array.isArray(a)?l.push(...a):a&&l.push(a),o&&l.push(o),{...s,"sentry-trace":i,baggage:l.length>0?l.join(","):void 0}}else return{"sentry-trace":i,baggage:o}}function Dg(t,e,r,n){if(!qr()||t.xhr&&t.xhr.__sentry_own_request__||!(t.xhr&&t.xhr.__sentry_xhr__&&e(t.xhr.__sentry_xhr__.url)))return;let o=t.xhr.__sentry_xhr__;if(t.endTimestamp){let l=t.xhr.__sentry_xhr_span_id__;if(!l)return;let u=n[l];u&&(u.setHttpStatus(o.status_code),u.finish(),delete n[l]);return}let i=P().getScope(),s=i&&i.getSpan(),a=s&&s.transaction;if(s&&a){let l=s.startChild({data:{...o.data,type:"xhr",method:o.method,url:o.url},description:`${o.method} ${o.url}`,op:"http.client"});if(t.xhr.__sentry_xhr_span_id__=l.spanId,n[t.xhr.__sentry_xhr_span_id__]=l,t.xhr.setRequestHeader&&r(t.xhr.__sentry_xhr__.url))try{t.xhr.setRequestHeader("sentry-trace",l.toTraceparent());let u=a.getDynamicSamplingContext(),p=Bo(u);p&&t.xhr.setRequestHeader(bn,p)}catch{}}}function Al(t,e=!0,r=!0){if(!w||!w.location){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn("Could not initialize routing instrumentation due to invalid location");return}let n=w.location.href,o;e&&(o=t({name:w.location.pathname,op:"pageload",metadata:{source:"url"}})),r&&V("history",({to:i,from:s})=>{if(s===void 0&&n&&n.indexOf(i)!==-1){n=void 0;return}s!==i&&(n=void 0,o&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`[Tracing] Finishing current transaction with op: ${o.op}`),o.finish()),o=t({name:w.location.pathname,op:"navigation",metadata:{source:"url"}}))})}var Gl="BrowserTracing",Ag={...Wr,markBackgroundTransactions:!0,routingInstrumentation:Al,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...ei},vr=class{__init(){this.name=Gl}constructor(e){vr.prototype.__init.call(this),this.options={...Ag,...e},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=Rl(),this.options.enableLongTask&&Nl(),this.options._experiments.enableInteractions&&Cl()}setupOnce(e,r){this._getCurrentHub=r;let{routingInstrumentation:n,startTransactionOnLocationChange:o,startTransactionOnPageLoad:i,markBackgroundTransactions:s,traceFetch:a,traceXHR:l,tracePropagationTargets:u,shouldCreateSpanForRequest:p,_experiments:h}=this.options;n(I=>{let b=this._createRouteTransaction(I);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(b,I,r),b},i,o),s&&Tl(),h.enableInteractions&&this._registerInteractionListener(),Dl({traceFetch:a,traceXHR:l,tracePropagationTargets:u,shouldCreateSpanForRequest:p})}_createRouteTransaction(e){if(!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`);return}let{beforeNavigate:r,idleTimeout:n,finalTimeout:o,heartbeatInterval:i}=this.options,s=e.op==="pageload",a=s?Ml("sentry-trace"):null,l=s?Ml("baggage"):null,u=a?Mo(a):void 0,p=l?xs(l):void 0,h={...e,...u,metadata:{...e.metadata,dynamicSamplingContext:u&&!p?{}:p},trimEnd:!0},I=typeof r=="function"?r(h):h,b=I===void 0?{...h,sampled:!1}:I;b.metadata=b.name!==h.name?{...b.metadata,source:"custom"}:b.metadata,this._latestRouteName=b.name,this._latestRouteSource=b.metadata&&b.metadata.source,b.sampled===!1&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`[Tracing] Will not send ${b.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.log(`[Tracing] Starting ${b.op} transaction on scope`);let we=this._getCurrentHub(),{location:ri}=w,Er=Fo(we,b,n,o,!0,{location:ri},i);return Er.registerBeforeFinishCallback(ni=>{this._collectWebVitals(),Ol(ni)}),Er}_registerInteractionListener(){let e,r=()=>{let{idleTimeout:n,finalTimeout:o,heartbeatInterval:i}=this.options,s="ui.action.click";if(e&&(e.finish(),e=void 0),!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`[Tracing] Did not create ${s} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&f.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`);return}let a=this._getCurrentHub(),{location:l}=w,u={name:this._latestRouteName,op:s,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};e=Fo(a,u,n,o,!0,{location:l},i)};["click"].forEach(n=>{addEventListener(n,r,{once:!1,capture:!0})})}};function Ml(t){let e=Xi(`meta[name=${t}]`);return e?e.getAttribute("content"):null}(typeof __SENTRY_TRACING__>"u"||__SENTRY_TRACING__)&&El();var Qr=ja(),Mg=te.getPlatform(),St=new Qn(Qr),Ul={now:Date.now(),conf:{env:Qr,platform:Mg}};St.debug("flags",Ul);var v=Cr.init(Ul,St),ve=new to(St),Pe=new yo(Qr,St);St.info(`Hi there! I hope you are enjoying Azimutt \u{1F44D}\uFE0F

Did you know you can access your current project in the console?
And even trigger some actions in Azimutt?

Just look at \`azimutt\` variable and perform what you want.
For example, here is how to count the total number of columns in all sources:
  \`azimutt.project.sources.flatMap(s => s.tables).flatMap(t => t.columns).length\`

Use \`azimutt.help()\` for more details!`);window.azimutt=new Kn(v,St);"serviceWorker"in navigator&&Qr===xe.enum.prod&&navigator.serviceWorker.register("/service-worker.js");v.on("Click",t=>te.getElementById(t.id).click());v.on("MouseDown",t=>te.getElementById(t.id).dispatchEvent(new Event("mousedown")));v.on("Focus",t=>te.getElementById(t.id).focus());v.on("Blur",t=>te.getElementById(t.id).blur());v.on("ScrollTo",t=>te.maybeElementById(t.id).forEach(e=>e.scrollIntoView(t.position!==Gn.enum.end)));v.on("Fullscreen",t=>te.fullscreen(t.id).then(()=>v.fitToScreen()));v.on("SetMeta",Gg);v.on("AutofocusWithin",t=>{var e;return(e=te.getElementById(t.id).querySelector("[autofocus]"))==null?void 0:e.focus()});v.on("Toast",t=>v.toast(t.level,t.message));v.on("GetProject",Lg);v.on("CreateProjectTmp",Ug);v.on("UpdateProjectTmp",Bg);v.on("CreateProject",$g);v.on("UpdateProject",Fg);v.on("DeleteProject",zg);v.on("ProjectDirty",Hg);v.on("DownloadFile",t=>te.downloadFile(t.filename,t.content));v.on("GetLocalFile",Yg);v.on("GetTableStats",Jg);v.on("GetColumnStats",qg);v.on("ObserveSizes",Wg);v.on("ListenKeys",Zg);v.on("Confetti",t=>te.launchConfetti(t.id));v.on("ConfettiPride",t=>te.launchConfettiPride());v.on("Fireworks",t=>te.launchFireworks());v.on("Track",t=>Pe.trackEvent(t.event));v.noListeners().length>0&&Qr!==xe.enum.prod&&St.error(`Do not listen to elm events: ${v.noListeners().join(", ")}`);function Gg(t){var e,r,n,o,i,s,a,l,u;if(typeof t.title=="string"&&(document.title=t.title,(e=document.querySelector('meta[property="og:title"]'))==null||e.setAttribute("content",t.title),(r=document.querySelector('meta[name="twitter:title"]'))==null||r.setAttribute("content",t.title)),typeof t.description=="string"&&((n=document.querySelector('meta[name="description"]'))==null||n.setAttribute("content",t.description),(o=document.querySelector('meta[property="og:description"]'))==null||o.setAttribute("content",t.description),(i=document.querySelector('meta[name="twitter:description"]'))==null||i.setAttribute("content",t.description)),typeof t.canonical=="string"){let p=document.querySelector('link[rel="canonical"]');p?p.setAttribute("href",t.canonical):document.head.append(`<link rel="canonical" href="${t.canonical}">`),(s=document.querySelector('meta[property="og:url"]'))==null||s.setAttribute("content",t.canonical),(a=document.querySelector('meta[name="twitter:url"]'))==null||a.setAttribute("content",t.canonical)}typeof t.html=="string"&&((l=document.getElementsByTagName("html")[0])==null||l.setAttribute("class",t.html)),typeof t.body=="string"&&((u=document.getElementsByTagName("body")[0])==null||u.setAttribute("class",t.body))}function Lg(t){(t.project===ir?ve.getProject(t.project).then(e=>ki(t.project,e)):Pe.getProject(t.organization,t.project,t.token).then(e=>e.storage===A.enum.remote?Wn(e,e.content):e.storage===A.enum.local?ve.getProject(t.project).then(r=>qn(e,r)):Promise.reject("Invalid storage"))).then(e=>v.gotProject(e),e=>{e.statusCode===401?window.location.replace(Pe.loginUrl(gc(window.location))):(X("Can't load project",e),v.gotProject(void 0))})}function Ug(t){let e=Rt(t.project);ve.deleteProject(ir).then(r=>ve.createProject(ir,e)).then(r=>v.gotProject(ki(t.project.id,e)),r=>X("Can't save draft project",r))}function Bg(t){let e=Rt(t.project);ve.updateProject(ir,e).then(r=>null,r=>X("Can't update draft project",r))}function $g(t){let e=Rt(t.project);t.storage==A.enum.local?Pe.createProjectLocal(t.organization,e).then(r=>ve.createProject(r.id,e).then(n=>qn(r,e),n=>(X("Can't save project locally",n),Pe.deleteProject(t.organization,r.id).then(o=>Promise.reject(n)))),r=>(X("Can't save project to backend",r),Promise.reject(r))).then(r=>Promise.all([ve.deleteProject(ir),ve.deleteProject(t.project.id)]).catch(n=>(X("Can't delete temporary project",n),Promise.resolve())).then(n=>{v.toast(he.enum.success,"Project created!"),window.history.replaceState("","",`/${t.organization}/${r.id}`),v.gotProject(r)})):t.storage==A.enum.remote?Pe.createProjectRemote(t.organization,e).then(r=>Promise.all([ve.deleteProject(ir),ve.deleteProject(t.project.id)]).catch(n=>(X("Can't delete temporary project",n),Promise.resolve())).then(n=>{v.toast(he.enum.success,"Project created!"),window.history.replaceState("","",`/${t.organization}/${r.id}`),v.gotProject(Wn(r,e))}),r=>X("Can't save project to backend",r)):X("Unknown ProjectStorage",t.storage)}function Fg(t){let e=Rt(t.project);if(!t.project.organization)return X("Expecting an organization to update project");t.project.storage==A.enum.local?Pe.updateProjectLocal(t.project).then(r=>ve.updateProject(r.id,e).then(n=>{v.toast(he.enum.success,"Project saved"),v.gotProject(qn(r,e))},n=>X("Can't update project locally",n)),r=>X("Can't update project to backend",r)):t.project.storage==A.enum.remote?Pe.updateProjectRemote(t.project).then(r=>{v.toast(he.enum.success,"Project saved"),v.gotProject(Wn(r,e))},r=>X("Can't update project",r)):X("Unknown ProjectStorage",t.project.storage)}function zg(t){t.project.organization?Pe.deleteProject(t.project.organization.id,t.project.id).catch(e=>(X("Can't delete project in backend",e),Promise.reject(e))).then(e=>{if(t.project.storage==A.enum.local)return ve.deleteProject(t.project.id).catch(r=>(X("Can't delete project locally",r),Promise.reject(r)))}).then(e=>t.redirect?window.location.href=t.redirect:v.dropProject(t.project.id)):ve.deleteProject(t.project.id).catch(e=>(X("Can't delete project locally",e),Promise.reject(e))).then(e=>t.redirect?window.location.href=t.redirect:v.dropProject(t.project.id))}window.isDirty=!1;window.addEventListener("beforeunload",function(t){if(window.isDirty){let e="Your project is not saved, want to leave?";return t.returnValue=e,e}});function Hg(t){window.isDirty=t.dirty}function Yg(t){let e=new FileReader;e.onload=r=>v.gotLocalFile(t,r.target.result),e.readAsText(t.file)}var Ys={};function Jg(t){let e=`${t.source}-${t.table}`;Ys[e]?v.gotTableStats(t.source,Ys[e]):Pe.getTableStats(t.database,t.table).then(r=>v.gotTableStats(t.source,Ys[e]=r),r=>r.statusCode!==404&&X(`Can't get stats for ${t.table}`,r))}var Js={};function qg(t){let e=`${t.source}-${t.column.table}.${t.column.column}`;Js[e]?v.gotColumnStats(t.source,Js[e]):Pe.getColumnStats(t.database,t.column).then(r=>v.gotColumnStats(t.source,Js[e]=r),r=>r.statusCode!==404&&X(`Can't get stats for ${t.column}`,r))}var Bl=new ResizeObserver(t=>{v.updateSizes(t.map(e=>{let r=e.target.getBoundingClientRect(),n={width:r.width,height:r.height};return{id:e.target.id,position:{clientX:r.left,clientY:r.top},size:n,seeds:{dx:Math.random(),dy:Math.random()}}}))});function Wg(t){t.ids.forEach(e=>{let r=document.getElementById(e);r?Bl.observe(r):$l(e,20)})}function $l(t,e){e>0&&setTimeout(()=>{let r=document.getElementById(t);r?Bl.observe(r):$l(t,e-1)},200)}var Xr={};function Ll(t){return t.localName==="input"||t.localName==="textarea"}function Vg(t){let e=t.target,r=(Xr[t.key]||[]).filter(n=>(te.getPlatform()===tn.enum.pc?n.ctrl===t.ctrlKey:n.ctrl===t.metaKey)&&(!n.shift||t.shiftKey)&&n.alt===t.altKey&&(!n.target&&(n.onInput||!Ll(e))||n.target&&(!n.target.id||n.target.id===e.id)&&(!n.target.class||e.className.split(" ").includes(n.target.class))&&(!n.target.tag||n.target.tag===e.localName)));r.map(n=>{n.preventDefault&&t.preventDefault(),v.gotHotkey(n)}),r.length===0&&t.key==="Escape"&&Ll(e)&&e.blur()}function Zg(t){Object.keys(Xr).forEach(e=>Xr[e]=[]),Object.entries(t.keys).forEach(([e,r])=>{r.forEach(n=>{Xr[n.key]||(Xr[n.key]=[]),Xr[n.key].push(ae(re({},n),{id:e}))})})}var ti={drag:!1};function Kg(t){t.code==="Space"&&(!ti.drag&&t.target.localName!=="input"&&v.gotKeyHold(t.code,!0),ti.drag=!0)}function Xg(t){t.code==="Space"&&(ti.drag&&v.gotKeyHold(t.code,!1),ti.drag=!1)}function X(t,e){e===void 0?(St.error(t),v.toast(he.enum.error,t)):(St.error(t,e),v.toast(he.enum.error,`${t}: ${dt(e)}`))}function Qg(t){let e=t.target,r=te.findParent(e,o=>!!o.getAttribute("data-track-event"));if(r){let o=r.getAttribute("data-track-event")||"click",i={label:(r.textContent||"").trim()},s=r.attributes;for(let p=0;p<s.length;p++){let h=s[p];h.name.startsWith("data-track-event-")&&(i[h.name.replace("data-track-event-","")]=h.value)}let n=i,{organization:a,project:l}=n,u=nt(n,["organization","project"]);Pe.trackEvent({name:o,details:u,organization:a,project:l})}}document.addEventListener("click",t=>{Qg(t)});document.addEventListener("keydown",t=>{Vg(t),Kg(t)});document.addEventListener("keyup",t=>{Xg(t)});Qr===xe.enum.prod&&Fs({dsn:"https://52a062c4168f402485783ad10fe2ccc2@o1353262.ingest.sentry.io/4504471109304320",integrations:[new vr],tracesSampleRate:1});Pa();})();
/*! Bundled license information:

jiff/lib/lcs.js:
  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

jiff/lib/array.js:
  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

jiff/lib/jsonPointerParse.js:
  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

jiff/lib/jsonPointer.js:
  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

jiff/lib/clone.js:
  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

jiff/lib/jsonPatch.js:
  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

jiff/jiff.js:
  (** @license MIT License (c) copyright 2010-2014 original author or authors *)
*/
//# sourceMappingURL=script.js.map
